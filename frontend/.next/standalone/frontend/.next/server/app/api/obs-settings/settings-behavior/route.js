"use strict";(()=>{var e={};e.id=8681,e.ids=[8681],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},38453:(e,t,s)=>{s.r(t),s.d(t,{headerHooks:()=>b,originalPathname:()=>D,patchFetch:()=>P,requestAsyncStorage:()=>l,routeModule:()=>g,serverHooks:()=>h,staticGenerationAsyncStorage:()=>p,staticGenerationBailout:()=>v});var r={};s.r(r),s.d(r,{GET:()=>c,PUT:()=>d});var o=s(6170),n=s(8533),a=s(54387),i=s(40064);let u="http://xscan-backend:3001";async function c(e){try{let t=e.headers.get("authorization")?.replace("Bearer ","");if(!t)return i.Z.json({error:"No token provided"},{status:401});console.log("\uD83D\uDD0D Frontend API: Getting settings behavior from:",`${u}/api/obs-settings/settings-behavior`);let s=await fetch(`${u}/api/obs-settings/settings-behavior`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(console.log("\uD83D\uDCE1 Frontend API: Response status:",s.status),console.log("\uD83D\uDCE1 Frontend API: Response headers:",Object.fromEntries(s.headers.entries())),!s.ok){let e=await s.text();console.error("❌ Frontend API: Error response:",e);try{let t=JSON.parse(e);return i.Z.json({error:t.message||"Failed to get settings behavior"},{status:s.status})}catch(t){return i.Z.json({error:`Backend error (${s.status}): ${e.substring(0,200)}`},{status:s.status})}}let r=await s.json();return console.log("✅ Frontend API: Success response:",r),i.Z.json(r)}catch(e){return console.error("❌ Frontend API: Error getting settings behavior:",e),i.Z.json({error:`Connection error: ${e.message}`},{status:500})}}async function d(e){try{let t=e.headers.get("authorization")?.replace("Bearer ","");if(!t)return i.Z.json({error:"No token provided"},{status:401});let s=await e.json();if(console.log("\uD83D\uDD0D Frontend API: Updating settings behavior with:",s),!s.settingsBehavior||!["auto","basic","donation-levels"].includes(s.settingsBehavior))return i.Z.json({error:"Invalid settings behavior value"},{status:400});console.log("\uD83D\uDD0D Frontend API: Sending request to:",`${u}/api/obs-settings/settings-behavior`);let r=await fetch(`${u}/api/obs-settings/settings-behavior`,{method:"PUT",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(s)});if(console.log("\uD83D\uDCE1 Frontend API: Response status:",r.status),console.log("\uD83D\uDCE1 Frontend API: Response headers:",Object.fromEntries(r.headers.entries())),!r.ok){let e=await r.text();console.error("❌ Frontend API: Error response:",e);try{let t=JSON.parse(e);return i.Z.json({error:t.message||"Failed to update settings behavior"},{status:r.status})}catch(t){return i.Z.json({error:`Backend error (${r.status}): ${e.substring(0,200)}`},{status:r.status})}}let o=await r.json();return console.log("✅ Frontend API: Success response:",o),i.Z.json(o)}catch(e){return console.error("❌ Frontend API: Error updating settings behavior:",e),i.Z.json({error:`Connection error: ${e.message}`},{status:500})}}let g=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/obs-settings/settings-behavior/route",pathname:"/api/obs-settings/settings-behavior",filename:"route",bundlePath:"app/api/obs-settings/settings-behavior/route"},resolvedPagePath:"D:\\repo\\xscan\\frontend\\src\\app\\api\\obs-settings\\settings-behavior\\route.ts",nextConfigOutput:"standalone",userland:r}),{requestAsyncStorage:l,staticGenerationAsyncStorage:p,serverHooks:h,headerHooks:b,staticGenerationBailout:v}=g,D="/api/obs-settings/settings-behavior/route";function P(){return(0,a.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:p})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[3499,7386],()=>s(38453));module.exports=r})();