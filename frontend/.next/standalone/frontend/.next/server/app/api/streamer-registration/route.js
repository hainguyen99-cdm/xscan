"use strict";(()=>{var e={};e.id=5247,e.ids=[5247],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},15148:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>g,originalPathname:()=>f,patchFetch:()=>h,requestAsyncStorage:()=>p,routeModule:()=>l,serverHooks:()=>m,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>c});var a={};r.r(a),r.d(a,{POST:()=>u});var s=r(6170),i=r(8533),n=r(54387),o=r(40064);async function u(e){try{let t=e.headers.get("authorization");if(!t||!t.startsWith("Bearer "))return o.Z.json({message:"Authentication required"},{status:401});let r=t.substring(7),a=await e.json();for(let e of["username","displayName","email","platform","channelUrl","description","contentCategory","reasonForApplying"])if(!a[e]||"string"==typeof a[e]&&""===a[e].trim())return o.Z.json({message:`Missing required field: ${e}`},{status:400});for(let e of["monthlyViewers"]){if(void 0===a[e]||null===a[e])return o.Z.json({message:`Missing required field: ${e}`},{status:400});let t=Number(a[e]);if(isNaN(t)||t<0)return o.Z.json({message:`Invalid value for field: ${e}. Must be a non-negative number.`},{status:400})}let s=await fetch("http://xscan-backend:3001/api/streamer-applications/apply",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(a)}),i=await s.json();if(!s.ok)return o.Z.json({message:i.message||"Failed to submit registration"},{status:s.status});return o.Z.json(i)}catch(e){return console.error("Streamer registration error:",e),o.Z.json({message:"Internal server error"},{status:500})}}let l=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/streamer-registration/route",pathname:"/api/streamer-registration",filename:"route",bundlePath:"app/api/streamer-registration/route"},resolvedPagePath:"D:\\repo\\xscan\\frontend\\src\\app\\api\\streamer-registration\\route.ts",nextConfigOutput:"standalone",userland:a}),{requestAsyncStorage:p,staticGenerationAsyncStorage:d,serverHooks:m,headerHooks:g,staticGenerationBailout:c}=l,f="/api/streamer-registration/route";function h(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:d})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[3499,7386],()=>r(15148));module.exports=a})();