(()=>{var e={};e.id=5212,e.ids=[5212],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},62614:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>x,tree:()=>l});var s=r(7),n=r(8533),o=r(29377),a=r.n(o),i=r(29799),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);r.d(t,c);let l=["",{children:["test-auth",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,90996)),"D:\\repo\\xscan\\frontend\\src\\app\\test-auth\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,44161)),"D:\\repo\\xscan\\frontend\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,12873)),"D:\\repo\\xscan\\frontend\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,34392)),"D:\\repo\\xscan\\frontend\\src\\app\\not-found.tsx"]}],u=["D:\\repo\\xscan\\frontend\\src\\app\\test-auth\\page.tsx"],d="/test-auth/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/test-auth/page",pathname:"/test-auth",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},84133:(e,t,r)=>{Promise.resolve().then(r.bind(r,14345))},14345:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,dynamic:()=>a});var s=r(54714),n=r(77580),o=r(46475);let a="force-dynamic";function i(){let[e,t]=(0,n.useState)(null),[r,a]=(0,n.useState)(!1),[i,c]=(0,n.useState)(null),l=async()=>{a(!0),c(null),t(null);try{let e=localStorage.getItem("authToken");if(!e){c("No auth token found in localStorage"),a(!1);return}console.log("Testing auth profile API with token:",e.substring(0,20)+"...");let r=await fetch("/api/auth/profile",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(console.log("Response status:",r.status),console.log("Response headers:",Object.fromEntries(r.headers.entries())),r.ok){let e=await r.json();t(e),console.log("✅ Auth profile API success:",e)}else{let e=await r.json();c(`API Error ${r.status}: ${JSON.stringify(e,null,2)}`),console.error("❌ Auth profile API error:",e)}}catch(t){let e=t instanceof Error?t.message:"Unknown error";c(`Network Error: ${e}`),console.error("\uD83D\uDCA5 Network error:",t)}finally{a(!1)}},u=async()=>{a(!0),c(null),t(null);try{let e=localStorage.getItem("authToken");if(!e){c("No auth token found in localStorage"),a(!1);return}let r=process.env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:3001";console.log("Testing backend directly:",`${r}/auth/profile`);let s=await fetch(`${r}/auth/profile`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(console.log("Backend response status:",s.status),s.ok){let e=await s.json();t(e),console.log("✅ Backend direct success:",e)}else{let e=await s.json();c(`Backend Error ${s.status}: ${JSON.stringify(e,null,2)}`),console.error("❌ Backend direct error:",e)}}catch(t){let e=t instanceof Error?t.message:"Unknown error";c(`Backend Network Error: ${e}`),console.error("\uD83D\uDCA5 Backend network error:",t)}finally{a(!1)}};return(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Auth Profile API Test"}),(0,s.jsxs)("div",{className:"space-y-4 mb-6",children:[s.jsx(o.z,{onClick:l,disabled:r,className:"mr-4",children:r?"Testing...":"Test Frontend API"}),s.jsx(o.z,{onClick:u,disabled:r,variant:"outline",children:r?"Testing...":"Test Backend Direct"})]}),i&&(0,s.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"Error"}),s.jsx("pre",{className:"text-sm text-red-700 whitespace-pre-wrap",children:i})]}),e&&(0,s.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-lg font-medium text-green-800 mb-2",children:"Success"}),s.jsx("pre",{className:"text-sm text-green-700 whitespace-pre-wrap",children:JSON.stringify(e,null,2)})]}),(0,s.jsxs)("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Debug Info"}),(0,s.jsxs)("div",{className:"text-sm text-gray-700 space-y-1",children:[(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Auth Token:"})," ",localStorage.getItem("authToken")?"Present":"Missing"]}),(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Backend URL:"})," ",process.env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:3001"]}),(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Current Time:"})," ",new Date().toLocaleString()]})]})]})]})}},46475:(e,t,r)=>{"use strict";r.d(t,{z:()=>a});var s=r(54714),n=r(77580),o=r(35178);let a=n.forwardRef(({className:e,variant:t="default",size:r="default",...n},a)=>s.jsx("button",{className:(0,o.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"}[t],{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}[r],e),ref:a,...n}));a.displayName="Button"},35178:(e,t,r)=>{"use strict";r.d(t,{cn:()=>o,p6:()=>i,xG:()=>a});var s=r(54690),n=r(68184);function o(...e){return(0,n.m6)((0,s.W)(e))}function a(e,t){if(null==e||isNaN(e))return"0.00";let r="string"==typeof e?parseFloat(e):e;try{return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase(),minimumFractionDigits:2,maximumFractionDigits:2}).format(r)}catch(e){return`${t.toUpperCase()} ${r.toFixed(2)}`}}function i(e,t={}){try{let r=new Date(e);if(isNaN(r.getTime()))return"Invalid Date";let s={year:"numeric",month:"short",day:"numeric",...t};return r.toLocaleDateString("en-US",s)}catch(e){return"Invalid Date"}}},90996:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>o,default:()=>l,dynamic:()=>c});var s=r(71481);let n=(0,s.createProxy)(String.raw`D:\repo\xscan\frontend\src\app\test-auth\page.tsx`),{__esModule:o,$$typeof:a}=n,i=n.default,c=(0,s.createProxy)(String.raw`D:\repo\xscan\frontend\src\app\test-auth\page.tsx#dynamic`),l=i}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[3499,9003,1934,1707],()=>r(62614));module.exports=s})();