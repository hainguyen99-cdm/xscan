(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5212],{2155:function(e,t,r){"use strict";var n,o;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(o=r.g.process)?void 0:o.env)?r.g.process:r(31984)},81451:function(e,t,r){Promise.resolve().then(r.bind(r,29490))},29490:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var n=r(37821),o=r(58078),s=r(53572),i=r(2155);function c(){let[e,t]=(0,o.useState)(null),[r,c]=(0,o.useState)(!1),[a,l]=(0,o.useState)(null),u=async()=>{c(!0),l(null),t(null);try{let e=localStorage.getItem("authToken");if(!e){l("No auth token found in localStorage"),c(!1);return}console.log("Testing auth profile API with token:",e.substring(0,20)+"...");let r=await fetch("/api/auth/profile",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(console.log("Response status:",r.status),console.log("Response headers:",Object.fromEntries(r.headers.entries())),r.ok){let e=await r.json();t(e),console.log("✅ Auth profile API success:",e)}else{let e=await r.json();l("API Error ".concat(r.status,": ").concat(JSON.stringify(e,null,2))),console.error("❌ Auth profile API error:",e)}}catch(t){let e=t instanceof Error?t.message:"Unknown error";l("Network Error: ".concat(e)),console.error("\uD83D\uDCA5 Network error:",t)}finally{c(!1)}},d=async()=>{c(!0),l(null),t(null);try{let e=localStorage.getItem("authToken");if(!e){l("No auth token found in localStorage"),c(!1);return}let r=i.env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:3001";console.log("Testing backend directly:","".concat(r,"/auth/profile"));let n=await fetch("".concat(r,"/auth/profile"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(console.log("Backend response status:",n.status),n.ok){let e=await n.json();t(e),console.log("✅ Backend direct success:",e)}else{let e=await n.json();l("Backend Error ".concat(n.status,": ").concat(JSON.stringify(e,null,2))),console.error("❌ Backend direct error:",e)}}catch(t){let e=t instanceof Error?t.message:"Unknown error";l("Backend Network Error: ".concat(e)),console.error("\uD83D\uDCA5 Backend network error:",t)}finally{c(!1)}};return(0,n.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Auth Profile API Test"}),(0,n.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,n.jsx)(s.z,{onClick:u,disabled:r,className:"mr-4",children:r?"Testing...":"Test Frontend API"}),(0,n.jsx)(s.z,{onClick:d,disabled:r,variant:"outline",children:r?"Testing...":"Test Backend Direct"})]}),a&&(0,n.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"Error"}),(0,n.jsx)("pre",{className:"text-sm text-red-700 whitespace-pre-wrap",children:a})]}),e&&(0,n.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-green-800 mb-2",children:"Success"}),(0,n.jsx)("pre",{className:"text-sm text-green-700 whitespace-pre-wrap",children:JSON.stringify(e,null,2)})]}),(0,n.jsxs)("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[(0,n.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Debug Info"}),(0,n.jsxs)("div",{className:"text-sm text-gray-700 space-y-1",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Auth Token:"})," ",localStorage.getItem("authToken")?"Present":"Missing"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Backend URL:"})," ",i.env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:3001"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Current Time:"})," ",new Date().toLocaleString()]})]})]})]})}},53572:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var n=r(37821),o=r(58078),s=r(25659);let i=o.forwardRef((e,t)=>{let{className:r,variant:o="default",size:i="default",...c}=e;return(0,n.jsx)("button",{className:(0,s.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"}[o],{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}[i],r),ref:t,...c})});i.displayName="Button"},25659:function(e,t,r){"use strict";r.d(t,{cn:function(){return s},p6:function(){return c},xG:function(){return i}});var n=r(97683),o=r(188);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.m6)((0,n.W)(t))}function i(e,t){if(null==e||isNaN(e))return"0.00";let r="string"==typeof e?parseFloat(e):e;try{return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase(),minimumFractionDigits:2,maximumFractionDigits:2}).format(r)}catch(e){return"".concat(t.toUpperCase()," ").concat(r.toFixed(2))}}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let r=new Date(e);if(isNaN(r.getTime()))return"Invalid Date";let n={year:"numeric",month:"short",day:"numeric",...t};return r.toLocaleDateString("en-US",n)}catch(e){return"Invalid Date"}}},31984:function(e){!function(){var t={229:function(e){var t,r,n,o=e.exports={};function s(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function c(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var a=[],l=!1,u=-1;function d(){l&&n&&(l=!1,n.length?a=n.concat(a):u=-1,a.length&&f())}function f(){if(!l){var e=c(d);l=!0;for(var t=a.length;t;){for(n=a,a=[];++u<t;)n&&n[u].run();u=-1,t=a.length}n=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];a.push(new h(e,t)),1!==a.length||l||c(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var s=r[e]={exports:{}},i=!0;try{t[e](s,s.exports,n),i=!1}finally{i&&delete r[e]}return s.exports}n.ab="//";var o=n(229);e.exports=o}()},8489:function(e,t,r){"use strict";var n=r(58078),o=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,r){var n,s={},l=null,u=null;for(n in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,n)&&!a.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:o,type:e,key:l,ref:u,props:s,_owner:c.current}}t.Fragment=s,t.jsx=l,t.jsxs=l},37821:function(e,t,r){"use strict";e.exports=r(8489)}},function(e){e.O(0,[3939,7115,141,1744],function(){return e(e.s=81451)}),_N_E=e.O()}]);