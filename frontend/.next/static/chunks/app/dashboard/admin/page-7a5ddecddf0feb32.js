(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1305],{14772:function(e,s,r){Promise.resolve().then(r.bind(r,93792))},93792:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return m}});var a=r(37821),t=r(58078),l=r(46179),n=r(61414),i=r(30189),d=r(54377),o=r(96871),c=r.n(o);function m(){let e=(0,l.useRouter)(),{user:s,isAuthenticated:r}=(0,n.qr)(),[o,m]=(0,t.useState)(!0),[h,x]=(0,t.useState)(null),[u,g]=(0,t.useState)(null);(0,t.useEffect)(()=>{if(!r){e.push("/login");return}if((null==s?void 0:s.role)!=="admin"){e.push("/dashboard");return}v()},[r,s,e]);let v=async()=>{try{let e=(0,i.hV)();if(!e)throw Error("Authentication required");let s=await fetch("/api/admin/dashboard/overview",{headers:{Authorization:"Bearer ".concat(e)}}),r={totalUsers:0,totalDonations:0,totalRevenue:0};s.ok&&(r=await s.json());let a={totalUsers:r.totalUsers||0,totalApplications:0,pendingApplications:0,approvedApplications:0,rejectedApplications:0,totalDonations:r.totalDonations||0,totalRevenue:r.totalRevenue||0};x(a)}catch(e){console.error("Failed to fetch admin stats:",e),g({type:"error",text:"Failed to load admin statistics"})}finally{m(!1)}};return o?(0,a.jsx)(d.Z,{children:(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading admin dashboard..."})]})})}):(0,a.jsx)(d.Z,{children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Overview of platform statistics and management tools."})]}),u&&(0,a.jsx)("div",{className:"mb-6 p-4 rounded-lg ".concat("success"===u.type?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"),children:u.text}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null==h?void 0:h.totalUsers)||0})]})]})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Applications"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null==h?void 0:h.totalApplications)||0})]})]})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Donations"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null==h?void 0:h.totalDonations)||0})]})]})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",((null==h?void 0:h.totalRevenue)||0).toLocaleString()]})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,a.jsx)(c(),{href:"/admin",className:"block",children:(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"User Management"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Manage user accounts and roles"})]})]})})}),(0,a.jsx)(c(),{href:"/admin",className:"block",children:(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Transactions"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"View and manage transactions"})]})]})})})]})]})})}},54377:function(e,s,r){"use strict";r.d(s,{Z:function(){return n}});var a=r(37821);r(58078);var t=r(61414),l=r(64944);function n(e){let{children:s}=e,{sidebarOpen:r,toggleSidebar:n}=(0,t.HB)();return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50",children:[(0,a.jsx)(l.Header,{}),(0,a.jsx)("main",{className:"relative",children:s})]})}}},function(e){e.O(0,[4885,4952,5052,189,4944,7115,141,1744],function(){return e(e.s=14772)}),_N_E=e.O()}]);