(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1205],{21790:function(e,t,s){Promise.resolve().then(s.bind(s,93356))},93356:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var r=s(37821),n=s(58078),a=s(53572),i=s(5537),l=s(9827),o=s(18407),d=s(35445);function c(){let[e,t]=(0,n.useState)([{id:"1",donorName:"John Doe",amount:25,message:"Great stream today! Keep it up!"},{id:"2",donorName:"Jane Smith",amount:50,message:"Amazing content as always!"},{id:"3",donorName:"Anonymous",amount:10,message:"Love your energy!"}]),[s,c]=(0,n.useState)(0),[u,m]=(0,n.useState)({donorName:"Test Donor",amount:"25.00",message:"This is a test alert!"}),[x,g]=(0,n.useState)(!1),[f,h]=(0,n.useState)(null),p=async()=>{g(!0);try{c(t=>(t+1)%e.length);let t=await fetch("/api/alerts/trigger",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({streamerId:"test-streamer-1",alertData:u})}),s=await t.json();h(s),console.log("Test alert triggered:",s)}catch(e){console.error("Failed to trigger test alert:",e)}finally{g(!1)}},j=async()=>{g(!0);try{let e=await fetch("/api/obs-settings/test-alert",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer test-token"},body:JSON.stringify({donorName:u.donorName,amount:u.amount,message:u.message,useCurrentSettings:!0})}),t=await e.json();h(t),console.log("Custom test alert triggered:",t)}catch(e){console.error("Failed to trigger custom test alert:",e)}finally{g(!1)}},b=e[s];return(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"OBS Widget Test Page"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Test and demonstrate the OBS donation alert widget functionality"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{children:[(0,r.jsx)(i.ll,{children:"Widget Preview"}),(0,r.jsx)(i.SZ,{children:"This shows how the widget will appear in OBS"})]}),(0,r.jsx)(i.aY,{children:(0,r.jsxs)("div",{className:"border-2 border-gray-300 rounded-lg p-4 bg-gray-100 min-h-[400px] relative",children:[(0,r.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"OBS Widget Simulation"}),(0,r.jsxs)("div",{className:"absolute top-4 right-4 bg-gray-800 text-white p-4 rounded-lg shadow-lg max-w-[280px] animate-fade-in",style:{border:"2px solid #3b82f6"},children:[(0,r.jsx)("div",{className:"mb-3",children:(0,r.jsx)("img",{src:"https://via.placeholder.com/280x80/3b82f6/ffffff?text=Donation+Alert",alt:"Test media",className:"w-full h-20 object-cover rounded"})}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"font-semibold",children:b.donorName}),(0,r.jsxs)("span",{className:"text-lg font-bold text-blue-400",children:["$",b.amount]})]}),b.message&&(0,r.jsx)("p",{className:"text-sm opacity-90",children:b.message}),(0,r.jsx)("div",{className:"text-xs opacity-70",children:new Date().toLocaleTimeString()})]})]})]})})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{children:[(0,r.jsx)(i.ll,{children:"Test Controls"}),(0,r.jsx)(i.SZ,{children:"Trigger test alerts to see the widget in action"})]}),(0,r.jsxs)(i.aY,{className:"space-y-4",children:[(0,r.jsx)(a.z,{onClick:p,className:"w-full",disabled:x,children:x?"Triggering...":"Trigger Test Alert"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("h4",{className:"font-medium",children:"Current Test Alert:"}),(0,r.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Donor:"})," ",b.donorName]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Amount:"})," $",b.amount]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Message:"})," ",b.message]})]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("h4",{className:"font-medium",children:"Widget URLs:"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:"Test Widget:"}),(0,r.jsx)("code",{className:"text-xs bg-gray-100 p-2 rounded block",children:"/widget/alert/test"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:"Streamer Widget:"}),(0,r.jsx)("code",{className:"text-xs bg-gray-100 p-2 rounded block",children:"/widget/alert/streamer-1"})]})]})]}),(0,r.jsxs)("div",{className:"p-3 bg-blue-50 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"How to Test in OBS:"}),(0,r.jsxs)("ol",{className:"text-sm text-blue-800 space-y-1 list-decimal list-inside",children:[(0,r.jsx)("li",{children:"Add a Browser Source in OBS"}),(0,r.jsxs)("li",{children:["Set URL to: ",(0,r.jsx)("code",{className:"bg-blue-100 px-1 rounded",children:"http://localhost:3000/widget/alert/streamer-1"})]}),(0,r.jsx)("li",{children:"Set width to 400 and height to 300"}),(0,r.jsx)("li",{children:'Check "Shutdown source when not visible"'}),(0,r.jsx)("li",{children:"Use the test controls above to trigger alerts"})]})]})]})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{children:[(0,r.jsx)(i.ll,{children:"Custom Test Alert"}),(0,r.jsx)(i.SZ,{children:"Create and trigger custom test alerts"})]}),(0,r.jsxs)(i.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o._,{htmlFor:"donorName",children:"Donor Name"}),(0,r.jsx)(l.I,{id:"donorName",value:u.donorName,onChange:e=>m(t=>({...t,donorName:e.target.value})),placeholder:"Enter donor name"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o._,{htmlFor:"amount",children:"Amount"}),(0,r.jsx)(l.I,{id:"amount",value:u.amount,onChange:e=>m(t=>({...t,amount:e.target.value})),placeholder:"25.00"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o._,{htmlFor:"message",children:"Message"}),(0,r.jsx)(d.g,{id:"message",value:u.message,onChange:e=>m(t=>({...t,message:e.target.value})),placeholder:"Enter custom message",rows:3})]}),(0,r.jsx)(a.z,{onClick:j,className:"w-full",disabled:x,children:x?"Triggering...":"Trigger Custom Alert"}),f&&(0,r.jsxs)("div",{className:"p-3 bg-green-50 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-medium text-green-900 mb-2",children:"Last Triggered:"}),(0,r.jsx)("pre",{className:"text-xs text-green-800 overflow-auto",children:JSON.stringify(f,null,2)})]})]})]})]}),(0,r.jsxs)("div",{className:"mt-8 p-6 bg-green-50 rounded-lg",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-green-900 mb-4",children:"Widget Features"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-green-800",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium mb-2",children:"\uD83C\uDFA8 Visual Customization"}),(0,r.jsxs)("ul",{className:"text-sm space-y-1",children:[(0,r.jsx)("li",{children:"• Custom colors and fonts"}),(0,r.jsx)("li",{children:"• Animation effects"}),(0,r.jsx)("li",{children:"• Flexible positioning"}),(0,r.jsx)("li",{children:"• Media support (images/videos)"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium mb-2",children:"\uD83D\uDD0A Audio Support"}),(0,r.jsxs)("ul",{className:"text-sm space-y-1",children:[(0,r.jsx)("li",{children:"• Custom sound effects"}),(0,r.jsx)("li",{children:"• Volume control"}),(0,r.jsx)("li",{children:"• Duration limits"}),(0,r.jsx)("li",{children:"• Auto-play in OBS"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium mb-2",children:"⚡ Performance"}),(0,r.jsxs)("ul",{className:"text-sm space-y-1",children:[(0,r.jsx)("li",{children:"• Transparent background"}),(0,r.jsx)("li",{children:"• Smooth animations"}),(0,r.jsx)("li",{children:"• Responsive design"}),(0,r.jsx)("li",{children:"• OBS optimized"})]})]})]})]})]})}},53572:function(e,t,s){"use strict";s.d(t,{z:function(){return i}});var r=s(37821),n=s(58078),a=s(25659);let i=n.forwardRef((e,t)=>{let{className:s,variant:n="default",size:i="default",...l}=e;return(0,r.jsx)("button",{className:(0,a.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"}[n],{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}[i],s),ref:t,...l})});i.displayName="Button"},5537:function(e,t,s){"use strict";s.d(t,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return i},aY:function(){return c},ll:function(){return o}});var r=s(37821),n=s(58078),a=s(25659);let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...n})});i.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",s),...n})});l.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",s),...n})});o.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",s),...n})});d.displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",s),...n})});c.displayName="CardContent",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",s),...n})}).displayName="CardFooter"},9827:function(e,t,s){"use strict";s.d(t,{I:function(){return i}});var r=s(37821),n=s(58078),a=s(25659);let i=n.forwardRef((e,t)=>{let{className:s,type:n,...i}=e;return(0,r.jsx)("input",{type:n,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...i})});i.displayName="Input"},18407:function(e,t,s){"use strict";s.d(t,{_:function(){return i}});var r=s(37821),n=s(58078),a=s(25659);let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("label",{ref:t,className:(0,a.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",s),...n})});i.displayName="Label"},35445:function(e,t,s){"use strict";s.d(t,{g:function(){return i}});var r=s(37821),n=s(58078),a=s(25659);let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...n})});i.displayName="Textarea"},25659:function(e,t,s){"use strict";s.d(t,{cn:function(){return a},p6:function(){return l},xG:function(){return i}});var r=s(97683),n=s(188);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m6)((0,r.W)(t))}function i(e,t){if(null==e||isNaN(e))return"0.00";let s="string"==typeof e?parseFloat(e):e;try{return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase(),minimumFractionDigits:2,maximumFractionDigits:2}).format(s)}catch(e){return"".concat(t.toUpperCase()," ").concat(s.toFixed(2))}}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let s=new Date(e);if(isNaN(s.getTime()))return"Invalid Date";let r={year:"numeric",month:"short",day:"numeric",...t};return s.toLocaleDateString("en-US",r)}catch(e){return"Invalid Date"}}},8489:function(e,t,s){"use strict";var r=s(58078),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,s){var r,a={},d=null,c=null;for(r in void 0!==s&&(d=""+s),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(c=t.ref),t)i.call(t,r)&&!o.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:n,type:e,key:d,ref:c,props:a,_owner:l.current}}t.Fragment=a,t.jsx=d,t.jsxs=d},37821:function(e,t,s){"use strict";e.exports=s(8489)}},function(e){e.O(0,[3939,7115,141,1744],function(){return e(e.s=21790)}),_N_E=e.O()}]);