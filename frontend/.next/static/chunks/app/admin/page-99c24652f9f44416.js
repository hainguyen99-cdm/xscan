(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{36786:function(){},43197:function(){},75246:function(e,t,s){Promise.resolve().then(s.bind(s,26192))},26192:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ey},dynamic:function(){return ej}});var a=s(37821),r=s(58078),n=s(68386),i=s(96385),l=s(78348),d=s(92928),c=s(34083),o=s(30788),m=s(77632),x=s(92779),u=s(89015),h=s(19648),p=s(25224),g=s(2708);let f=[{id:"overview",name:"Overview",icon:n.Z,description:"Dashboard overview and key metrics",badge:null,shortcut:"1"},{id:"users",name:"User Management",icon:i.Z,description:"Manage users, accounts, and permissions",badge:"5",shortcut:"2"},{id:"transactions",name:"Transactions",icon:l.Z,description:"View and manage all transactions",badge:"0",shortcut:"3"},{id:"deposits",name:"Deposit Management",icon:d.Z,description:"Monitor and manage all deposits",badge:"12",shortcut:"4"},{id:"bank-accounts",name:"Bank Account Management",icon:c.Z,description:"Manage bank accounts for all users",badge:"8",shortcut:"5"},{id:"fees",name:"Fee Management",icon:o.Z,description:"Configure platform fees and rates",badge:null,shortcut:"6"},{id:"reports",name:"Reports",icon:m.Z,description:"Generate reports and analytics",badge:"0",shortcut:"7"},{id:"streamer-applications",name:"Streamer Applications",icon:x.Z,description:"Review and approve streamer applications",badge:"3",shortcut:"8"}],j=[{label:"Total Users",value:"5",color:"text-gray-900"},{label:"Active Today",value:"5",color:"text-green-600"},{label:"Revenue (30d)",value:"₫15.4M",color:"text-gray-900"},{label:"Pending Applications",value:"3",color:"text-orange-600"}];function y(e){let{activeSection:t,onSectionChange:s}=e,[n,i]=(0,r.useState)(!1),[l,d]=(0,r.useState)(!1),[c,o]=(0,r.useState)(!1);(0,r.useRef)(null),(0,r.useEffect)(()=>{let e=()=>{o(window.innerWidth<768),window.innerWidth<768&&i(!1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{let e=()=>{d(e=>!e)};return window.addEventListener("toggleMobileMenu",e),()=>window.removeEventListener("toggleMobileMenu",e)},[]),(0,r.useEffect)(()=>{let e=e=>{if(e.key>="1"&&e.key<="8"&&!c){let t=parseInt(e.key)-1;t<f.length&&s(f[t].id)}"Escape"===e.key&&l&&d(!1),(e.ctrlKey||e.metaKey)&&"b"===e.key&&(e.preventDefault(),c||i(!n))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[l,n,c,s]);let m=()=>{d(!l)},x=e=>{s(e),c&&d(!1)};return c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:m,className:"fixed top-4 left-4 z-50 p-2 bg-white rounded-lg shadow-lg border border-gray-200 md:hidden hover:bg-gray-50 transition-colors","aria-label":"Toggle mobile menu","aria-expanded":l,"aria-controls":"mobile-navigation",children:l?(0,a.jsx)(u.Z,{className:"h-6 w-6 text-gray-600"}):(0,a.jsx)(h.Z,{className:"h-6 w-6 text-gray-600"})}),l&&(0,a.jsxs)("div",{className:"fixed inset-0 z-40 md:hidden",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:m}),(0,a.jsxs)("div",{id:"mobile-navigation",className:"fixed left-0 top-0 h-full w-80 bg-white shadow-xl",role:"navigation","aria-label":"Admin navigation",children:[(0,a.jsxs)("div",{className:"h-16 flex items-center justify-between px-4 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(p.Z,{className:"h-8 w-8 text-indigo-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Admin"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Platform Management"})]})]}),(0,a.jsx)("button",{onClick:m,className:"p-1 rounded-md hover:bg-gray-100 transition-colors","aria-label":"Close mobile menu",children:(0,a.jsx)(u.Z,{className:"h-5 w-5 text-gray-500"})})]}),(0,a.jsx)("nav",{className:"flex-1 overflow-y-auto py-4",children:(0,a.jsx)("div",{className:"px-3 space-y-1",children:f.map(e=>{let s=e.icon,r=t===e.id;return(0,a.jsxs)("button",{onClick:()=>x(e.id),className:"w-full group flex items-center px-3 py-3 text-sm font-medium rounded-lg transition-all duration-200 ".concat(r?"bg-indigo-50 text-indigo-700 border-l-4 border-indigo-500 shadow-sm":"text-gray-700 hover:bg-gray-50 hover:text-gray-900 hover:shadow-sm"),"aria-current":r?"page":void 0,title:"".concat(e.name," (").concat(e.shortcut,")"),children:[(0,a.jsx)(s,{className:"flex-shrink-0 h-5 w-5 mr-3 ".concat(r?"text-indigo-500":"text-gray-400 group-hover:text-gray-500")}),(0,a.jsxs)("div",{className:"flex-1 text-left min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"font-medium truncate",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[e.badge&&(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(r?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-600"),children:e.badge}),(0,a.jsx)("span",{className:"text-xs text-gray-400 font-mono bg-gray-100 px-1.5 py-0.5 rounded",children:e.shortcut})]})]}),(0,a.jsx)("div",{className:"text-xs truncate ".concat(r?"text-indigo-600":"text-gray-500"),children:e.description})]})]},e.id)})})}),(0,a.jsxs)("div",{className:"border-t border-gray-200 p-4",children:[(0,a.jsxs)("h4",{className:"text-sm font-medium text-gray-900 mb-3 flex items-center",children:[(0,a.jsx)(g.Z,{className:"h-4 w-4 mr-2 text-gray-400"}),"Quick Stats"]}),(0,a.jsx)("div",{className:"space-y-3",children:j.map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-xs text-gray-600 truncate",children:e.label}),(0,a.jsx)("span",{className:"text-sm font-semibold ".concat(e.color),children:e.value})]},t))})]})]})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"md:hidden fixed top-4 left-4 z-50",children:(0,a.jsx)("button",{onClick:m,className:"p-2 bg-white rounded-md shadow-lg text-gray-600 hover:text-gray-900 hover:bg-gray-50","aria-label":"Toggle mobile menu",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),(0,a.jsxs)("div",{className:"hidden md:flex flex-col bg-white border-r border-gray-200 transition-all duration-300 ease-in-out ".concat(n?"w-16":"w-64"," h-full"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[!n&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold text-sm",children:"XS"})}),(0,a.jsx)("span",{className:"ml-3 text-lg font-semibold text-gray-900",children:"Admin"})]}),(0,a.jsx)("button",{onClick:()=>{c||i(!n)},className:"p-1 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100","aria-label":n?"Expand sidebar":"Collapse sidebar",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:n?"M13 5l7 7-7 7M5 5l7 7-7 7":"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})})]}),(0,a.jsx)("nav",{className:"flex-1 overflow-y-auto py-4",children:(0,a.jsx)("div",{className:"px-3 space-y-1",children:f.map(e=>{let s=e.icon,r=t===e.id;return(0,a.jsxs)("button",{onClick:()=>x(e.id),className:"w-full group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ".concat(r?"bg-indigo-100 text-indigo-700 border-r-2 border-indigo-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),title:n?e.name:void 0,children:[(0,a.jsx)(s,{className:"flex-shrink-0 h-5 w-5 ".concat(r?"text-indigo-600":"text-gray-400 group-hover:text-gray-500")}),!n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"ml-3 flex-1 text-left",children:e.name}),e.badge&&(0,a.jsx)("span",{className:"ml-auto inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:e.badge}),e.shortcut&&(0,a.jsx)("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-600",children:e.shortcut})]})]},e.id)})})}),!n&&(0,a.jsxs)("div",{className:"border-t border-gray-200 p-4",children:[(0,a.jsx)("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"Quick Stats"}),(0,a.jsx)("div",{className:"space-y-2",children:j.map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:e.label}),(0,a.jsx)("span",{className:"font-medium ".concat(e.color),children:e.value})]},t))})]})]}),c&&(0,a.jsxs)("div",{className:"md:hidden fixed inset-0 z-50 transition-opacity duration-300 ".concat(l?"opacity-100":"opacity-0 pointer-events-none"),children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:m}),(0,a.jsxs)("div",{className:"absolute left-0 top-0 h-full w-64 bg-white shadow-lg transform transition-transform duration-300 ".concat(l?"translate-x-0":"-translate-x-full"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold text-sm",children:"XS"})}),(0,a.jsx)("span",{className:"ml-3 text-lg font-semibold text-gray-900",children:"Admin"})]}),(0,a.jsx)("button",{onClick:m,className:"p-1 rounded-md text-gray-400 hover:text-gray-600","aria-label":"Close mobile menu",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsx)("nav",{className:"flex-1 overflow-y-auto py-4",children:(0,a.jsx)("div",{className:"px-3 space-y-1",children:f.map(e=>{let s=e.icon,r=t===e.id;return(0,a.jsxs)("button",{onClick:()=>x(e.id),className:"w-full group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-200 ".concat(r?"bg-indigo-100 text-indigo-700 border-r-2 border-indigo-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,a.jsx)(s,{className:"flex-shrink-0 h-5 w-5 ".concat(r?"text-indigo-600":"text-gray-400 group-hover:text-gray-500")}),(0,a.jsx)("span",{className:"ml-3 flex-1 text-left",children:e.name}),e.badge&&(0,a.jsx)("span",{className:"ml-auto inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:e.badge}),e.shortcut&&(0,a.jsx)("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-600",children:e.shortcut})]},e.id)})})}),(0,a.jsxs)("div",{className:"border-t border-gray-200 p-4",children:[(0,a.jsx)("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"Quick Stats"}),(0,a.jsx)("div",{className:"space-y-2",children:j.map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:e.label}),(0,a.jsx)("span",{className:"font-medium ".concat(e.color),children:e.value})]},t))})]})]})]})]})}var b=s(10808),v=s(19972),N=s(26200),w=s(62284),k=s(15042),S=s(55466),A=s(81956),C=s(66449),D=s(87690),R=s(30189),L=s(73938);function F(){let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)([]),[i,l]=(0,r.useState)(""),[d,c]=(0,r.useState)("all"),[o,m]=(0,r.useState)("all"),[x,h]=(0,r.useState)(null),[p,g]=(0,r.useState)(!1),[f,j]=(0,r.useState)(!1),[y,F]=(0,r.useState)(null),[Z,T]=(0,r.useState)({firstName:"",lastName:"",email:"",username:"",role:"",isActive:!0,twoFactorEnabled:!1,profileVisibility:"public",showEmail:!0,showPhone:!1,showAddress:!1,showLastLogin:!1,bankToken:""}),[M,P]=(0,r.useState)(!0),[E,V]=(0,r.useState)(!1),[I,G]=(0,r.useState)(null),U=async()=>{try{P(!0),G(null);let e="all"===o?void 0:"active"===o?"active":"inactive",s="all"===d?void 0:d,a=await R.x1.admin.users.list({page:1,limit:100,searchTerm:i||void 0,role:s,status:e}),r=(Array.isArray(a)?a:a.items||a.data||[]).map(e=>({id:e._id||e.id,name:e.name||"".concat(e.firstName||""," ").concat(e.lastName||"").trim(),email:e.email,username:e.username,role:e.role,avatar:e.profilePicture||e.avatar,isEmailVerified:"boolean"!=typeof e.isEmailVerified||e.isEmailVerified,twoFactorEnabled:!!e.twoFactorEnabled,createdAt:e.createdAt,lastLoginAt:e.lastLoginAt,status:e.isActive?"active":"suspended",totalDonations:e.totalDonations||0,totalRevenue:e.totalRevenue||0,_id:e._id,firstName:e.firstName,lastName:e.lastName,profilePicture:e.profilePicture,coverPhoto:e.coverPhoto,isActive:e.isActive,profileVisibility:e.profileVisibility,showEmail:e.showEmail,showPhone:e.showPhone,showAddress:e.showAddress,showLastLogin:e.showLastLogin,profileCompletionPercentage:e.profileCompletionPercentage,verificationBadges:e.verificationBadges,profileViews:e.profileViews,profileViewers:e.profileViewers,updatedAt:e.updatedAt,profileCompletedAt:e.profileCompletedAt,lastProfileUpdate:e.lastProfileUpdate,bankToken:e.bankToken}));t(r),n(r)}catch(t){var e,s;console.error("Error fetching users:",t),G((null===(s=t.response)||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.message)||"Failed to fetch users")}finally{P(!1)}};(0,r.useEffect)(()=>{U()},[]),(0,r.useEffect)(()=>{U()},[i,d,o]);let z=async(t,s)=>{try{switch(V(!0),G(null),s){case"activate":await R.x1.admin.users.updateStatus(t,"active");break;case"deactivate":await R.x1.admin.users.updateStatus(t,"inactive");break;case"delete":if(!confirm("Are you sure you want to delete this user? This action cannot be undone."))return;await R.x1.admin.users.delete(t);break;case"edit":let a=e.find(e=>e.id===t);if(a){F(a);try{let e=await R.x1.admin.users.get(a.id),t=(null==e?void 0:e.items)?e.items:e,s={...a,...(null==t?void 0:t.user)||t};T({firstName:s.firstName||"",lastName:s.lastName||"",email:s.email||"",username:s.username||"",role:s.role||"",isActive:s.isActive||!0,twoFactorEnabled:s.twoFactorEnabled||!1,profileVisibility:s.profileVisibility||"public",showEmail:s.showEmail||!0,showPhone:s.showPhone||!1,showAddress:s.showAddress||!1,showLastLogin:s.showLastLogin||!1,bankToken:s.bankToken||""})}catch(e){T({firstName:a.firstName||"",lastName:a.lastName||"",email:a.email||"",username:a.username||"",role:a.role||"",isActive:a.isActive||!0,twoFactorEnabled:a.twoFactorEnabled||!1,profileVisibility:a.profileVisibility||"public",showEmail:a.showEmail||!0,showPhone:a.showPhone||!1,showAddress:a.showAddress||!1,showLastLogin:a.showLastLogin||!1,bankToken:a.bankToken||""})}j(!0)}return;default:console.log("Action ".concat(s," for user ").concat(t));return}await U(),p&&(g(!1),h(null))}catch(e){var a,r;console.error("Error performing ".concat(s," on user:"),e),G((null===(r=e.response)||void 0===r?void 0:null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to ".concat(s," user"))}finally{V(!1)}},_=async()=>{if(y)try{V(!0),G(null),await R.x1.admin.users.update(y.id,{username:Z.username,email:Z.email,role:Z.role,firstName:Z.firstName,lastName:Z.lastName,twoFactorEnabled:Z.twoFactorEnabled,profileVisibility:Z.profileVisibility,showEmail:Z.showEmail,showPhone:Z.showPhone,showAddress:Z.showAddress,showLastLogin:Z.showLastLogin,bankToken:Z.bankToken});let e=Z.isActive?"active":"suspended";y.status!==e&&await R.x1.admin.users.updateStatus(y.id,e),await U(),j(!1),F(null),T({firstName:"",lastName:"",email:"",username:"",role:"",isActive:!0,twoFactorEnabled:!1,profileVisibility:"public",showEmail:!0,showPhone:!1,showAddress:!1,showLastLogin:!1,bankToken:""}),G(null)}catch(s){var e,t;console.error("Error updating user:",s),G((null===(t=s.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Failed to update user")}finally{V(!1)}},B=()=>{j(!1),F(null),T({firstName:"",lastName:"",email:"",username:"",role:"",isActive:!0,twoFactorEnabled:!1,profileVisibility:"public",showEmail:!0,showPhone:!1,showAddress:!1,showLastLogin:!1,bankToken:""})},O=e=>{switch(e){case"active":return(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,a.jsx)(b.Z,{className:"h-3 w-3 mr-1"}),"Active"]});case"suspended":return(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[(0,a.jsx)(v.Z,{className:"h-3 w-3 mr-1"}),"Suspended"]});case"pending":return(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[(0,a.jsx)(N.Z,{className:"h-3 w-3 mr-1"}),"Pending"]});default:return null}},W=e=>(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat({admin:"bg-purple-100 text-purple-800",streamer:"bg-blue-100 text-blue-800",donor:"bg-green-100 text-green-800"}[e]),children:e.charAt(0).toUpperCase()+e.slice(1)}),J=e=>"active"===e.status?(0,a.jsx)("button",{onClick:()=>z(e.id,"deactivate"),className:"text-yellow-600 hover:text-yellow-900",title:"Deactivate User",disabled:E,children:(0,a.jsx)(v.Z,{className:"h-4 w-4"})}):(0,a.jsx)("button",{onClick:()=>z(e.id,"activate"),className:"text-green-600 hover:text-green-900",title:"Activate User",disabled:E,children:(0,a.jsx)(b.Z,{className:"h-4 w-4"})});return M?(0,a.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,a.jsx)(L.T,{size:"lg"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Manage users, accounts, and permissions"})]}),(0,a.jsxs)("div",{className:"mt-4 sm:mt-0 flex space-x-3",children:[(0,a.jsxs)("button",{onClick:U,disabled:M,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:[(0,a.jsx)(w.Z,{className:"h-4 w-4 mr-2"}),"Refresh"]}),(0,a.jsxs)("button",{className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:[(0,a.jsx)(k.Z,{className:"h-4 w-4 mr-2"}),"Add User"]})]})]})}),I&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(v.Z,{className:"h-5 w-5 text-red-400"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),(0,a.jsx)("div",{className:"mt-2 text-sm text-red-700",children:I})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsx)("div",{className:"md:col-span-2",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(S.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search users by name, email, or username...",value:i,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500"})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("select",{value:d,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",children:[(0,a.jsx)("option",{value:"all",children:"All Roles"}),(0,a.jsx)("option",{value:"admin",children:"Admin"}),(0,a.jsx)("option",{value:"streamer",children:"Streamer"}),(0,a.jsx)("option",{value:"donor",children:"Donor"})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("select",{value:o,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",children:[(0,a.jsx)("option",{value:"all",children:"All Status"}),(0,a.jsx)("option",{value:"active",children:"Active"}),(0,a.jsx)("option",{value:"suspended",children:"Suspended"}),(0,a.jsx)("option",{value:"pending",children:"Pending"})]})})]})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Users (",s.length,")"]})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Verification"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:e.avatar?(0,a.jsx)("img",{className:"h-10 w-10 rounded-full",src:e.avatar,alt:e.name}):(0,a.jsx)("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-medium text-indigo-600",children:e.name.charAt(0).toUpperCase()})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.email}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["@",e.username]})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:W(e.role)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:O(e.status)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[e.isEmailVerified?(0,a.jsx)(b.Z,{className:"h-4 w-4 text-green-500",title:"Email Verified"}):(0,a.jsx)(v.Z,{className:"h-4 w-4 text-red-500",title:"Email Not Verified"}),e.twoFactorEnabled?(0,a.jsx)(b.Z,{className:"h-4 w-4 text-green-500",title:"2FA Enabled"}):(0,a.jsx)(v.Z,{className:"h-4 w-4 text-gray-400",title:"2FA Disabled"})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.lastLoginAt?new Date(e.lastLoginAt).toLocaleDateString():"Never"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>{h(e),g(!0)},className:"text-indigo-600 hover:text-indigo-900",title:"View Details",children:(0,a.jsx)(A.Z,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>z(e.id,"edit"),className:"text-gray-600 hover:text-gray-900",title:"Edit User",children:(0,a.jsx)(C.Z,{className:"h-4 w-4"})}),J(e),(0,a.jsx)("button",{onClick:()=>z(e.id,"delete"),className:"text-red-600 hover:text-red-900",title:"Delete User",disabled:E,children:(0,a.jsx)(D.Z,{className:"h-4 w-4"})})]})})]},e.id))})]})}),0===s.length&&!M&&(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No users found matching your criteria."})})]}),p&&x&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,a.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"User Details"}),(0,a.jsx)("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(v.Z,{className:"h-6 w-6"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:x.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:x.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Username"}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-900",children:["@",x.username]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),(0,a.jsx)("div",{className:"mt-1",children:W(x.role)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,a.jsx)("div",{className:"mt-1",children:O(x.status)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Profile Completion"}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-900",children:[x.profileCompletionPercentage,"%"]})]}),void 0!==x.totalDonations&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Total Donations"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:x.totalDonations})]}),void 0!==x.totalRevenue&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Total Revenue"}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-900",children:["₫",x.totalRevenue.toLocaleString()]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Member Since"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:x.createdAt?new Date(x.createdAt).toLocaleDateString():"Unknown"})]}),x.lastLoginAt&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Last Login"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:new Date(x.lastLoginAt).toLocaleDateString()})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex space-x-3",children:[(0,a.jsx)("button",{onClick:()=>z(x.id,"edit"),className:"flex-1 px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700",children:"Edit User"}),(0,a.jsx)("button",{onClick:()=>g(!1),className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-400",children:"Close"})]})]})})}),f&&y&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,a.jsx)("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Edit User: ",y.name]}),(0,a.jsx)("button",{onClick:B,className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(u.Z,{className:"h-6 w-6"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"text-md font-medium text-gray-900 border-b pb-2",children:"Basic Information"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),(0,a.jsx)("input",{type:"text",value:Z.firstName,onChange:e=>T({...Z,firstName:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"First Name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),(0,a.jsx)("input",{type:"text",value:Z.lastName,onChange:e=>T({...Z,lastName:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Last Name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",value:Z.email,onChange:e=>T({...Z,email:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Email"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),(0,a.jsx)("input",{type:"text",value:Z.username,onChange:e=>T({...Z,username:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Username"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,a.jsxs)("select",{value:Z.role,onChange:e=>T({...Z,role:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",children:[(0,a.jsx)("option",{value:"admin",children:"Admin"}),(0,a.jsx)("option",{value:"streamer",children:"Streamer"}),(0,a.jsx)("option",{value:"donor",children:"Donor"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"text-md font-medium text-gray-900 border-b pb-2",children:"Account Settings"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Account Active"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Enable or disable user account"})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:Z.isActive,onChange:e=>T({...Z,isActive:e.target.checked}),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Two-Factor Authentication"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Enable 2FA for enhanced security"})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:Z.twoFactorEnabled,onChange:e=>T({...Z,twoFactorEnabled:e.target.checked}),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Profile Visibility"}),(0,a.jsxs)("select",{value:Z.profileVisibility,onChange:e=>T({...Z,profileVisibility:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",children:[(0,a.jsx)("option",{value:"public",children:"Public"}),(0,a.jsx)("option",{value:"private",children:"Private"}),(0,a.jsx)("option",{value:"friends",children:"Friends Only"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray-700",children:"Privacy Settings"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Show Email"}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:Z.showEmail,onChange:e=>T({...Z,showEmail:e.target.checked}),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-indigo-600"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Show Phone"}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:Z.showPhone,onChange:e=>T({...Z,showPhone:e.target.checked}),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-indigo-600"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Show Address"}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:Z.showAddress,onChange:e=>T({...Z,showAddress:e.target.checked}),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-indigo-600"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Show Last Login"}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:Z.showLastLogin,onChange:e=>T({...Z,showLastLogin:e.target.checked}),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-indigo-600"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray-900 mb-2",children:"Token Banking Information"}),(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Token"}),(0,a.jsx)("input",{type:"text",value:Z.bankToken,onChange:e=>T({...Z,bankToken:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter bank token for this user"}),(0,a.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"This token is used for banking integrations on behalf of the user."})]})]})]}),(0,a.jsxs)("div",{className:"mt-8 flex space-x-3 justify-end",children:[(0,a.jsx)("button",{onClick:B,className:"px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),(0,a.jsx)("button",{onClick:_,disabled:E,className:"px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50",children:E?"Saving...":"Save Changes"})]})]})})})]})}var Z=s(12408),T=s(51487),M=s(38913),P=s(47863);function E(){let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)([]),[i,l]=(0,r.useState)(""),[d,c]=(0,r.useState)("all"),[o,m]=(0,r.useState)("all"),[x,u]=(0,r.useState)("all"),[h,p]=(0,r.useState)(null),[g,f]=(0,r.useState)(!1),[j,y]=(0,r.useState)(!1),[w,k]=(0,r.useState)(!1),[C,D]=(0,r.useState)(!1),[R,L]=(0,r.useState)([]),[F,E]=(0,r.useState)(!0),[V,I]=(0,r.useState)(1),[G,U]=(0,r.useState)(1),z=[{id:"1",userId:"user1",userName:"John Doe",type:"donation",amount:25e3,currency:"VND",status:"completed",paymentMethod:"stripe",description:"Donation to GamingPro123",createdAt:"2024-01-20T14:22:00Z",completedAt:"2024-01-20T14:23:00Z",processingFee:750,netAmount:24250},{id:"2",userId:"user2",userName:"Jane Smith",type:"donation",amount:5e4,currency:"VND",status:"pending",paymentMethod:"paypal",description:"Donation to ArtStreamer",createdAt:"2024-01-20T15:30:00Z",processingFee:1500,netAmount:48500},{id:"3",userId:"user3",userName:"Mike Johnson",type:"withdrawal",amount:1e5,currency:"VND",status:"disputed",paymentMethod:"stripe",description:"Withdrawal to bank account",createdAt:"2024-01-20T12:15:00Z",disputeReason:"User claims unauthorized transaction",disputeStatus:"open",adminNotes:"Investigation in progress",processingFee:2900,netAmount:97100},{id:"4",userId:"user4",userName:"Sarah Wilson",type:"refund",amount:25e3,currency:"VND",status:"completed",paymentMethod:"stripe",description:"Refund for failed service",createdAt:"2024-01-20T10:45:00Z",completedAt:"2024-01-20T11:00:00Z",processingFee:750,netAmount:24250},{id:"5",userId:"user5",userName:"David Brown",type:"donation",amount:75e3,currency:"VND",status:"failed",paymentMethod:"paypal",description:"Donation to MusicLover",createdAt:"2024-01-20T09:20:00Z",processingFee:2250,netAmount:72750}];(0,r.useEffect)(()=>{let e=setTimeout(()=>{t(z),n(z),E(!1)},1e3);return()=>clearTimeout(e)},[]),(0,r.useEffect)(()=>{let t=e;i&&(t=t.filter(e=>e.userName.toLowerCase().includes(i.toLowerCase())||e.id.toLowerCase().includes(i.toLowerCase())||e.description.toLowerCase().includes(i.toLowerCase()))),"all"!==d&&(t=t.filter(e=>e.status===d)),"all"!==o&&(t=t.filter(e=>e.type===o)),"all"!==x&&(t=t.filter(e=>e.disputeStatus===x)),n(t)},[e,i,d,o,x]);let _=(e,t)=>{console.log("Action ".concat(t," for transaction ").concat(e))},B=(e,t,s)=>{console.log("Resolving dispute for transaction ".concat(e," with resolution: ").concat(t)),y(!1)},O=(e,t,s,a)=>{console.log("Making adjustment for transaction ".concat(e,": ").concat(t,", reason: ").concat(s)),k(!1)},W=(e,t)=>{console.log("Bulk action ".concat(e," on transactions:"),R),D(!1),L([])},J=e=>{L(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},Y=e=>{switch(e){case"completed":return(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,a.jsx)(b.Z,{className:"h-3 w-3 mr-1"}),"Completed"]});case"pending":return(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[(0,a.jsx)(Z.Z,{className:"h-3 w-3 mr-1"}),"Pending"]});case"failed":return(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[(0,a.jsx)(v.Z,{className:"h-3 w-3 mr-1"}),"Failed"]});case"disputed":return(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[(0,a.jsx)(N.Z,{className:"h-3 w-3 mr-1"}),"Disputed"]});case"cancelled":return(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[(0,a.jsx)(v.Z,{className:"h-3 w-3 mr-1"}),"Cancelled"]});case"processing":return(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[(0,a.jsx)(Z.Z,{className:"h-3 w-3 mr-1"}),"Processing"]});default:return null}},q=e=>(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat({donation:"bg-blue-100 text-blue-800",withdrawal:"bg-purple-100 text-purple-800",refund:"bg-green-100 text-green-800",fee:"bg-gray-100 text-gray-800",transfer:"bg-indigo-100 text-indigo-800"}[e]),children:e.charAt(0).toUpperCase()+e.slice(1)}),H=e=>{if(!e)return null;switch(e){case"open":return(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Open Dispute"});case"under_investigation":return(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Under Investigation"});case"resolved":return(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Resolved"});case"closed":return(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Closed"});default:return null}};return F?(0,a.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Enhanced Transaction Management"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Comprehensive transaction management with dispute handling and manual adjustments"})]}),(0,a.jsxs)("div",{className:"mt-4 sm:mt-0 flex space-x-3",children:[R.length>0&&(0,a.jsxs)("button",{onClick:()=>D(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:[(0,a.jsx)(T.Z,{className:"h-4 w-4 mr-2"}),"Bulk Actions (",R.length,")"]}),(0,a.jsxs)("button",{className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700",children:[(0,a.jsx)(M.Z,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,a.jsx)("div",{className:"md:col-span-2",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(S.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search transactions...",value:i,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500"})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("select",{value:d,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",children:[(0,a.jsx)("option",{value:"all",children:"All Status"}),(0,a.jsx)("option",{value:"completed",children:"Completed"}),(0,a.jsx)("option",{value:"pending",children:"Pending"}),(0,a.jsx)("option",{value:"failed",children:"Failed"}),(0,a.jsx)("option",{value:"disputed",children:"Disputed"}),(0,a.jsx)("option",{value:"cancelled",children:"Cancelled"}),(0,a.jsx)("option",{value:"processing",children:"Processing"})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("select",{value:o,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",children:[(0,a.jsx)("option",{value:"all",children:"All Types"}),(0,a.jsx)("option",{value:"donation",children:"Donation"}),(0,a.jsx)("option",{value:"withdrawal",children:"Withdrawal"}),(0,a.jsx)("option",{value:"refund",children:"Refund"}),(0,a.jsx)("option",{value:"fee",children:"Fee"}),(0,a.jsx)("option",{value:"transfer",children:"Transfer"})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("select",{value:x,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",children:[(0,a.jsx)("option",{value:"all",children:"All Disputes"}),(0,a.jsx)("option",{value:"open",children:"Open"}),(0,a.jsx)("option",{value:"under_investigation",children:"Under Investigation"}),(0,a.jsx)("option",{value:"resolved",children:"Resolved"}),(0,a.jsx)("option",{value:"closed",children:"Closed"})]})})]})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Transactions (",s.length,")"]})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,a.jsx)("input",{type:"checkbox",onChange:e=>{e.target.checked?L(s.map(e=>e.id)):L([])},className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transaction"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dispute"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("input",{type:"checkbox",checked:R.includes(e.id),onChange:()=>J(e.id),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:["#",e.id]}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.description}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.paymentMethod})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-8 w-8",children:(0,a.jsx)("div",{className:"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center",children:(0,a.jsx)(P.Z,{className:"h-4 w-4 text-indigo-600"})})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.userName}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e.userId]})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:q(e.type)}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["₫",e.amount.toLocaleString()," ",e.currency]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Y(e.status)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:H(e.disputeStatus)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>{p(e),f(!0)},className:"text-indigo-600 hover:text-indigo-900",title:"View Details",children:(0,a.jsx)(A.Z,{className:"h-4 w-4"})}),"pending"===e.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>_(e.id,"approve"),className:"text-green-600 hover:text-green-900",title:"Approve",children:(0,a.jsx)(b.Z,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>_(e.id,"reject"),className:"text-red-600 hover:text-red-900",title:"Reject",children:(0,a.jsx)(v.Z,{className:"h-4 w-4"})})]}),"disputed"===e.status&&(0,a.jsx)("button",{onClick:()=>{p(e),y(!0)},className:"text-orange-600 hover:text-orange-900",title:"Handle Dispute",children:(0,a.jsx)(N.Z,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>{p(e),k(!0)},className:"text-purple-600 hover:text-purple-900",title:"Manual Adjustment",children:(0,a.jsx)(T.Z,{className:"h-4 w-4"})})]})})]},e.id))})]})})]}),g&&h&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,a.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Transaction Details"}),(0,a.jsx)("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(v.Z,{className:"h-6 w-6"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Transaction ID"}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-900",children:["#",h.id]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"User"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:h.userName})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),(0,a.jsx)("div",{className:"mt-1",children:q(h.type)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Amount"}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-900",children:["₫",h.amount.toLocaleString()," ",h.currency]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,a.jsx)("div",{className:"mt-1",children:Y(h.status)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:h.description})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Method"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:h.paymentMethod})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Processing Fee"}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-900",children:["₫",h.processingFee.toLocaleString()]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Net Amount"}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-900",children:["₫",h.netAmount.toLocaleString()]})]}),h.disputeReason&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Dispute Reason"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:h.disputeReason})]}),h.disputeStatus&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Dispute Status"}),(0,a.jsx)("div",{className:"mt-1",children:H(h.disputeStatus)})]}),h.manualAdjustment&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Manual Adjustment"}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-900",children:["₫",h.manualAdjustment.toLocaleString()]})]}),h.adminNotes&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Admin Notes"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:h.adminNotes})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Created"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:new Date(h.createdAt).toLocaleString()})]}),h.completedAt&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Completed"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:new Date(h.completedAt).toLocaleString()})]})]}),(0,a.jsx)("div",{className:"mt-6 flex space-x-3",children:(0,a.jsx)("button",{onClick:()=>f(!1),className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-400",children:"Close"})})]})})}),j&&h&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,a.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Handle Dispute"}),(0,a.jsx)("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(v.Z,{className:"h-6 w-6"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Transaction"}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-900",children:["#",h.id]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Amount"}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-900",children:["₫",h.amount.toLocaleString()," ",h.currency]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Dispute Reason"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:h.disputeReason})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Resolution"}),(0,a.jsxs)("select",{id:"disputeResolution",className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",children:[(0,a.jsx)("option",{value:"",children:"Select resolution..."}),(0,a.jsx)("option",{value:"refund",children:"Issue Refund"}),(0,a.jsx)("option",{value:"approve",children:"Approve Transaction"}),(0,a.jsx)("option",{value:"partial_refund",children:"Partial Refund"}),(0,a.jsx)("option",{value:"investigation",children:"Further Investigation"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Admin Notes"}),(0,a.jsx)("textarea",{rows:3,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Add notes about the resolution..."})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex space-x-3",children:[(0,a.jsx)("button",{onClick:()=>{let e=document.getElementById("disputeResolution").value,t=document.querySelector("textarea").value;B(h.id,e,t)},className:"flex-1 px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-md hover:bg-green-700",children:"Resolve Dispute"}),(0,a.jsx)("button",{onClick:()=>y(!1),className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-400",children:"Cancel"})]})]})})}),w&&h&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,a.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Manual Adjustment"}),(0,a.jsx)("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(v.Z,{className:"h-6 w-6"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Transaction"}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-900",children:["#",h.id]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Current Amount"}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-900",children:["₫",h.amount.toLocaleString()," ",h.currency]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Adjustment Amount"}),(0,a.jsxs)("div",{className:"mt-1 flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"number",step:"1000",min:"-999999999",max:"999999999",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"0"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"VND"})]}),(0,a.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Positive for credit, negative for debit"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Reason"}),(0,a.jsx)("input",{type:"text",className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Reason for adjustment..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Admin Notes"}),(0,a.jsx)("textarea",{rows:3,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Additional notes..."})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex space-x-3",children:[(0,a.jsx)("button",{onClick:()=>{let e=document.querySelector('input[type="number"]'),t=document.querySelector('input[type="text"]'),s=document.querySelector("textarea"),a=parseFloat(e.value),r=t.value,n=s.value;if(isNaN(a)||!r){alert("Please fill in all required fields");return}O(h.id,a,r,n)},className:"flex-1 px-4 py-2 bg-purple-600 text-white text-sm font-medium rounded-md hover:bg-purple-700",children:"Apply Adjustment"}),(0,a.jsx)("button",{onClick:()=>k(!1),className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-400",children:"Cancel"})]})]})})}),C&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,a.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Bulk Action"}),(0,a.jsx)("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(v.Z,{className:"h-6 w-6"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Selected Transactions"}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:[R.length," transactions selected"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Action"}),(0,a.jsxs)("select",{id:"bulkAction",className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",children:[(0,a.jsx)("option",{value:"",children:"Select action..."}),(0,a.jsx)("option",{value:"approve",children:"Approve All"}),(0,a.jsx)("option",{value:"reject",children:"Reject All"}),(0,a.jsx)("option",{value:"cancel",children:"Cancel All"}),(0,a.jsx)("option",{value:"mark_disputed",children:"Mark as Disputed"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Reason (Optional)"}),(0,a.jsx)("input",{type:"text",className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Reason for bulk action..."})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex space-x-3",children:[(0,a.jsx)("button",{onClick:()=>{let e=document.getElementById("bulkAction").value,t=document.querySelector('input[type="text"]').value;if(!e){alert("Please select an action");return}W(e,t)},className:"flex-1 px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700",children:"Apply Action"}),(0,a.jsx)("button",{onClick:()=>D(!1),className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-400",children:"Cancel"})]})]})})})]})}var V=s(61776),I=s(49229),G=s(18755);function U(){let[e,t]=(0,r.useState)([]),[s,i]=(0,r.useState)([]),[l,d]=(0,r.useState)("30d"),[c,m]=(0,r.useState)(!0),x=[{id:"1",name:"Platform Fee",type:"percentage",value:2.9,description:"Standard platform fee for all transactions",isActive:!0,appliesTo:["donations","withdrawals"]},{id:"2",name:"Processing Fee",type:"fixed",value:.3,currency:"VND",description:"Fixed processing fee per transaction",isActive:!0,appliesTo:["donations"]},{id:"3",name:"Premium Fee",type:"percentage",value:1.5,description:"Reduced fee for premium users",isActive:!0,appliesTo:["donations"],minAmount:100},{id:"4",name:"International Fee",type:"percentage",value:1,description:"Additional fee for international transactions",isActive:!1,appliesTo:["donations","withdrawals"]}],u=[{period:"Last 30 Days",totalFees:1542050,totalTransactions:1234,averageFee:1250.5,revenue:15420500,change:12.5,feeTypes:[{type:"Platform Fee",count:1234,amount:1542050}]},{period:"Last 90 Days",totalFees:6789075,totalTransactions:5678,averageFee:1195.75,revenue:67890750,change:8.3,feeTypes:[{type:"Platform Fee",count:5678,amount:6789075}]},{period:"Last 12 Months",totalFees:18945025,totalTransactions:15678,averageFee:1208.5,revenue:189450250,change:15.2,feeTypes:[{type:"Platform Fee",count:15678,amount:18945025}]}];(0,r.useEffect)(()=>{let e=setTimeout(()=>{t(x),i(u),m(!1)},1e3);return()=>clearTimeout(e)},[]);let h=e=>{t(t=>t.map(t=>t.id===e?{...t,isActive:!t.isActive}:t))},p=s.find(e=>{switch(l){case"7d":return"Last 7 days"===e.period;case"30d":default:return"Last 30 days"===e.period;case"90d":return"Last 90 days"===e.period}})||s[1];return c?(0,a.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Fee Management"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Configure platform fees and view analytics"})]}),(0,a.jsx)("div",{className:"mt-4 sm:mt-0",children:(0,a.jsxs)("button",{className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:[(0,a.jsx)(V.Z,{className:"h-4 w-4 mr-2"}),"Add Fee Rule"]})})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(o.Z,{className:"h-8 w-8 text-indigo-600"})}),(0,a.jsxs)("div",{className:"ml-4 flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Fees"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["₫",p.totalFees.toLocaleString()]}),(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[p.change>0?(0,a.jsx)(I.Z,{className:"h-4 w-4 text-green-500"}):(0,a.jsx)(G.Z,{className:"h-4 w-4 text-red-500"}),(0,a.jsxs)("span",{className:"ml-1 ".concat(p.change>0?"text-green-600":"text-red-600"),children:[Math.abs(p.change),"%"]}),(0,a.jsx)("span",{className:"text-gray-500 ml-1",children:"vs previous period"})]})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(n.Z,{className:"h-8 w-8 text-green-600"})}),(0,a.jsxs)("div",{className:"ml-4 flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Transactions"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:p.totalTransactions.toLocaleString()}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Transactions processed"})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(o.Z,{className:"h-8 w-8 text-blue-600"})}),(0,a.jsxs)("div",{className:"ml-4 flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Average Fee"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["₫",p.averageFee.toFixed(2)]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Per transaction"})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(o.Z,{className:"h-8 w-8 text-purple-600"})}),(0,a.jsxs)("div",{className:"ml-4 flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["₫",p.revenue.toLocaleString()]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Platform revenue"})]})]})})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Fee Analytics"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>d("7d"),className:"px-3 py-1 text-sm font-medium rounded-md ".concat("7d"===l?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700"),children:"7 Days"}),(0,a.jsx)("button",{onClick:()=>d("30d"),className:"px-3 py-1 text-sm font-medium rounded-md ".concat("30d"===l?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700"),children:"30 Days"}),(0,a.jsx)("button",{onClick:()=>d("90d"),className:"px-3 py-1 text-sm font-medium rounded-md ".concat("90d"===l?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700"),children:"90 Days"})]})]})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Fee Configuration"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Manage platform fee rules and rates"})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,a.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("h4",{className:"text-lg font-medium text-gray-900",children:e.name}),(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.isActive?"Active":"Inactive"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),(0,a.jsxs)("div",{className:"mt-2 flex items-center space-x-4 text-sm text-gray-500",children:[(0,a.jsxs)("span",{children:["Rate: ","percentage"===e.type?"".concat(e.value,"%"):"₫".concat(e.value," ").concat(e.currency)]}),(0,a.jsxs)("span",{children:["Applies to: ",e.appliesTo.join(", ")]}),e.minAmount&&(0,a.jsxs)("span",{children:["Min: ₫",e.minAmount]}),e.maxAmount&&(0,a.jsxs)("span",{children:["Max: ₫",e.maxAmount]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>h(e.id),className:"px-3 py-1 text-sm font-medium rounded-md ".concat(e.isActive?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"),children:e.isActive?"Disable":"Enable"}),(0,a.jsx)("button",{className:"px-3 py-1 text-sm font-medium rounded-md bg-indigo-100 text-indigo-700 hover:bg-indigo-200",children:"Edit"})]})]})},e.id))})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Fee Reports"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Historical fee data and trends"})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Period"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Fees"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transactions"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Average Fee"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Change"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((e,t)=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.period}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["₫",e.totalFees.toLocaleString()]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.totalTransactions.toLocaleString()}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["₫",e.averageFee.toFixed(2)]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["₫",e.revenue.toLocaleString()]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[e.change>0?(0,a.jsx)(I.Z,{className:"h-4 w-4 text-green-500"}):(0,a.jsx)(G.Z,{className:"h-4 w-4 text-red-500"}),(0,a.jsxs)("span",{className:"ml-1 text-sm font-medium ".concat(e.change>0?"text-green-600":"text-red-600"),children:[Math.abs(e.change),"%"]})]})})]},t))})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("button",{className:"flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:[(0,a.jsx)(V.Z,{className:"h-4 w-4 mr-2"}),"Configure Fees"]}),(0,a.jsxs)("button",{className:"flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700",children:[(0,a.jsx)(n.Z,{className:"h-4 w-4 mr-2"}),"Generate Report"]}),(0,a.jsxs)("button",{className:"flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),"Export Data"]})]})]})]})}var z=s(75338),_=s(55154),B=s(60888),O=s(96573),W=s(17697),J=s(24012),Y=s(93747),q=s(8988),H=s(30610),Q=s(76349);class K{static async getRevenueReport(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"30d";return(await R.hi.get("/api/reporting/revenue?period=".concat(e))).data}static async getGrowthReport(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"30d";return(await R.hi.get("/api/reporting/growth?period=".concat(e))).data}static async getComprehensiveReport(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"30d";return(await R.hi.get("/api/reporting/comprehensive?period=".concat(e))).data}static async getDashboardData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"30d";return(await R.hi.get("/api/reporting/dashboard?period=".concat(e))).data}static async exportData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"30d",t=arguments.length>1?arguments[1]:void 0;return(await R.hi.get("/api/reporting/export/".concat(t,"?period=").concat(e))).data}}class X{static getInstance(){return X.instance||(X.instance=new X),X.instance}async generateRevenueReport(e){try{let t=await K.getRevenueReport(e);return{totalRevenue:t.totalRevenue,platformFees:t.platformFees,netRevenue:t.netRevenue,donationSources:t.donationSources,monthlyTrends:t.monthlyTrends}}catch(s){console.warn("Failed to fetch revenue data from API, using mock data:",s);let t=this.getMockRevenueData(e);return{totalRevenue:t.totalRevenue,platformFees:t.platformFees,netRevenue:t.totalRevenue-t.platformFees,donationSources:t.donationSources,monthlyTrends:t.monthlyTrends}}}async generateGrowthReport(e){try{let t=await K.getGrowthReport(e);return{revenueGrowth:t.revenueGrowth,userGrowth:t.userGrowth,transactionGrowth:t.transactionGrowth,avgDonationGrowth:t.avgDonationGrowth,conversionRateGrowth:t.conversionRateGrowth,period:t.period,previousPeriod:t.previousPeriod}}catch(s){console.warn("Failed to fetch growth data from API, using mock data:",s);let t=this.getMockGrowthData(e);return{revenueGrowth:t.revenueGrowth,userGrowth:t.userGrowth,transactionGrowth:t.transactionGrowth,avgDonationGrowth:t.avgDonationGrowth,conversionRateGrowth:t.conversionRateGrowth,period:t.period,previousPeriod:t.previousPeriod}}}exportToCSV(e,t){if(!e||0===e.length){console.warn("No data to export");return}let s=Object.keys(e[0]),a=[s.join(","),...e.map(e=>s.map(t=>{let s=e[t];return"string"==typeof s&&(s.includes(",")||s.includes('"')||s.includes("\n"))?'"'.concat(s.replace(/"/g,'""'),'"'):s}).join(","))].join("\n"),r=new Blob([a],{type:"text/csv;charset=utf-8;"});(0,Q.saveAs)(r,"".concat(t,".csv"))}exportToPDF(e,t,s){if(!e||0===e.length){console.warn("No data to export");return}let a=new Y.ZP;a.setFontSize(18),a.text(s,14,22),a.setFontSize(10),a.text("Generated on: ".concat(new Date().toLocaleString()),14,32);let r=Object.keys(e[0]),n=e.map(e=>r.map(t=>{let s=e[t];return"number"==typeof s?s.toLocaleString():s}));(0,q.ZP)(a,{head:[r],body:n,startY:40,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[66,139,202],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]}}),a.save("".concat(t,".pdf"))}exportToExcel(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Data";if(!e||0===e.length){console.warn("No data to export");return}let a=H.P6.json_to_sheet(e),r=H.P6.book_new();H.P6.book_append_sheet(r,a,s);let n=H.cW(r,{bookType:"xlsx",type:"array"}),i=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,Q.saveAs)(i,"".concat(t,".xlsx"))}async generateComprehensiveReport(e){let[t,s]=await Promise.all([this.generateRevenueReport(e),this.generateGrowthReport(e)]);return{revenue:t,growth:s,summary:this.getMockReportData(e)}}getMockRevenueData(e){let t="7d"===e?15e3:"30d"===e?65e3:18e4;return{totalRevenue:t,platformFees:.08*t,donationSources:{paypal:.45*t,stripe:.35*t,crypto:.15*t,other:.05*t},monthlyTrends:[{month:"Jan",revenue:.8*t,growth:5.2},{month:"Feb",revenue:.85*t,growth:6.1},{month:"Mar",revenue:.9*t,growth:7.3},{month:"Apr",revenue:.95*t,growth:8.2},{month:"May",revenue:t,growth:9.1},{month:"Jun",revenue:1.05*t,growth:10.2}]}}getMockGrowthData(e){let t="7d"===e?12.5:"30d"===e?8.2:-2.1;return{revenueGrowth:t,userGrowth:.8*t,transactionGrowth:1.2*t,avgDonationGrowth:.6*t,conversionRateGrowth:.4*t,period:"7d"===e?"Last 7 days":"30d"===e?"Last 30 days":"Last 90 days",previousPeriod:"7d"===e?"Previous 7 days":"30d"===e?"Previous 30 days":"Previous 90 days"}}getMockReportData(e){let t="7d"===e?{revenue:15420.5,transactions:1247,users:89,growth:12.5,fees:1247.5,donations:14173}:"30d"===e?{revenue:67890.75,transactions:5430,users:324,growth:8.2,fees:5430.25,donations:62460.5}:{revenue:189450.25,transactions:15420,users:892,growth:-2.1,fees:15420.5,donations:174029.75};return{period:"7d"===e?"Last 7 days":"30d"===e?"Last 30 days":"Last 90 days",...t,avgDonation:t.donations/t.transactions,conversionRate:t.transactions/t.users*100,topDonors:[{name:"Anonymous",amount:1e3,date:"2024-01-15"},{name:"John Doe",amount:750,date:"2024-01-14"},{name:"Jane Smith",amount:500,date:"2024-01-13"}],topCampaigns:[{name:"Emergency Fund",amount:5e3,donations:45},{name:"Community Support",amount:3500,donations:32},{name:"Education Fund",amount:2800,donations:28}]}}constructor(){}}let $=X.getInstance();function ee(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)("30d"),[d,c]=(0,r.useState)(!1),[x,u]=(0,r.useState)(!0),[h,p]=(0,r.useState)(null),[g,f]=(0,r.useState)(null),[j,y]=(0,r.useState)(null),[b,v]=(0,r.useState)("overview"),[N,w]=(0,r.useState)(null),k=[{id:"revenue",name:"Revenue Report",description:"Detailed revenue analysis and trends",icon:o.Z,format:"pdf",dataType:"revenue"},{id:"growth",name:"Growth Statistics",description:"Comprehensive growth metrics and trends",icon:z.Z,format:"pdf",dataType:"growth"},{id:"comprehensive",name:"Comprehensive Report",description:"Complete business overview and analysis",icon:m.Z,format:"pdf",dataType:"comprehensive"},{id:"summary",name:"Summary Report",description:"Key metrics and performance summary",icon:n.Z,format:"excel",dataType:"summary"}],S={period:"Last 30 Days",revenue:15420500,transactions:1234,users:892,growth:12.5,fees:1542050,donations:16962550,avgDonation:13746.5,conversionRate:8.2};(0,r.useEffect)(()=>{y(S)},[]),(0,r.useEffect)(()=>{(async()=>{try{u(!0),await new Promise(e=>setTimeout(e,1e3));let[e,t]=await Promise.all([$.generateRevenueReport(s),$.generateGrowthReport(s)]);p(e),f(t),"30d"===s?y(S):"90d"===s?y({...S,period:"Last 90 Days",revenue:67890750,transactions:5678,users:2345,fees:6789075,donations:61101675,avgDonation:10765.25}):"12m"===s&&y({...S,period:"Last 12 Months",revenue:189450250,transactions:15678,users:5678,fees:18945025,donations:170505225,avgDonation:10875.5})}catch(e){console.error("Error loading data:",e),w("Failed to load data")}finally{u(!1)}})()},[s]);let A=async e=>{c(!0);try{let t=[],a="",r="";switch(e.dataType){case"revenue":h&&(t=[{Metric:"Total Revenue",Value:"₫".concat(h.totalRevenue.toLocaleString())},{Metric:"Platform Fees",Value:"₫".concat(h.platformFees.toLocaleString())},{Metric:"Net Revenue",Value:"₫".concat(h.netRevenue.toLocaleString())},{Metric:"PayPal Donations",Value:"₫".concat(h.donationSources.paypal.toLocaleString())},{Metric:"Stripe Donations",Value:"₫".concat(h.donationSources.stripe.toLocaleString())},{Metric:"Crypto Donations",Value:"₫".concat(h.donationSources.crypto.toLocaleString())},{Metric:"Other Sources",Value:"₫".concat(h.donationSources.other.toLocaleString())}],a="revenue_report_".concat(s),r="Revenue Report");break;case"growth":g&&(t=[{Metric:"Revenue Growth",Value:"".concat(g.revenueGrowth,"%")},{Metric:"User Growth",Value:"".concat(g.userGrowth,"%")},{Metric:"Transaction Growth",Value:"".concat(g.transactionGrowth,"%")},{Metric:"Average Donation Growth",Value:"".concat(g.avgDonationGrowth,"%")},{Metric:"Conversion Rate Growth",Value:"".concat(g.conversionRateGrowth,"%")},{Metric:"Period",Value:g.period},{Metric:"Previous Period",Value:g.previousPeriod}],a="growth_report_".concat(s),r="Growth Statistics Report");break;case"comprehensive":j&&h&&g&&(t=[{Metric:"Period",Value:j.period},{Metric:"Total Revenue",Value:"₫".concat(j.revenue.toLocaleString())},{Metric:"Transactions",Value:j.transactions.toLocaleString()},{Metric:"Active Users",Value:j.users.toLocaleString()},{Metric:"Growth Rate",Value:"".concat(j.growth,"%")},{Metric:"Platform Fees",Value:"₫".concat(j.fees.toLocaleString())},{Metric:"Donations",Value:"₫".concat(j.donations.toLocaleString())},{Metric:"Average Donation",Value:"₫".concat(j.avgDonation.toFixed(2))},{Metric:"Conversion Rate",Value:"".concat(j.conversionRate.toFixed(1),"%")}],a="comprehensive_report_".concat(s),r="Comprehensive Business Report");break;case"summary":j&&(t=[{Period:j.period,Revenue:"₫".concat(j.revenue.toLocaleString()),Transactions:j.transactions,Users:j.users,Growth:"".concat(j.growth,"%")}],a="summary_report_".concat(s),r="Summary Report")}if(t.length>0)switch(e.format){case"csv":$.exportToCSV(t,a);break;case"pdf":$.exportToPDF(t,a,r);break;case"excel":$.exportToExcel(t,a,r)}}catch(e){console.error("Failed to generate report:",e)}finally{c(!1)}},C=e=>{if(!j)return;let t=[{Period:j.period,Revenue:"₫".concat(j.revenue.toLocaleString()),Transactions:j.transactions,Users:j.users,Growth:"".concat(j.growth,"%"),Fees:"₫".concat(j.fees.toLocaleString()),Donations:"₫".concat(j.donations.toLocaleString())}];switch(e){case"csv":$.exportToCSV(t,"export_data_".concat(s));break;case"pdf":$.exportToPDF(t,"export_data_".concat(s),"Data Export Report");break;case"excel":$.exportToExcel(t,"export_data_".concat(s),"Data Export")}};return x?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading reports..."})]})}):N?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-red-600 text-6xl mb-4",children:"⚠️"}),(0,a.jsx)("p",{className:"text-red-600 font-medium",children:N}),(0,a.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Retry"})]})}):j?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Reporting System"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Generate comprehensive reports and export data"})]}),(0,a.jsxs)("div",{className:"mt-4 sm:mt-0 flex space-x-3",children:[(0,a.jsxs)("button",{onClick:()=>C("csv"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700",children:[(0,a.jsx)(_.Z,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),(0,a.jsxs)("button",{onClick:()=>C("pdf"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700",children:[(0,a.jsx)(M.Z,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border",children:(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsx)("nav",{className:"-mb-px flex space-x-8 px-6",children:[{id:"overview",name:"Overview",icon:n.Z},{id:"revenue",name:"Revenue Reports",icon:o.Z},{id:"growth",name:"Growth Statistics",icon:z.Z},{id:"export",name:"Export & Reports",icon:M.Z}].map(e=>{let t=e.icon;return(0,a.jsxs)("button",{onClick:()=>v(e.id),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat(b===e.id?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,a.jsx)(t,{className:"h-5 w-5 inline mr-2"}),e.name]},e.id)})})})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Report Period"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>l("7d"),className:"px-3 py-1 text-sm font-medium rounded-md ".concat("7d"===s?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700"),children:"7 Days"}),(0,a.jsx)("button",{onClick:()=>l("30d"),className:"px-3 py-1 text-sm font-medium rounded-md ".concat("30d"===s?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700"),children:"30 Days"}),(0,a.jsx)("button",{onClick:()=>l("90d"),className:"px-3 py-1 text-sm font-medium rounded-md ".concat("90d"===s?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:text-gray-700"),children:"90 Days"})]})]})}),"overview"===b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(o.Z,{className:"h-8 w-8 text-indigo-600"})}),(0,a.jsxs)("div",{className:"ml-4 flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["₫",j.revenue.toLocaleString()]}),(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[(0,a.jsxs)("span",{className:"text-green-600",children:["+",j.growth,"%"]}),(0,a.jsx)("span",{className:"text-gray-500 ml-2",children:"from last period"})]})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(n.Z,{className:"h-8 w-8 text-green-600"})}),(0,a.jsxs)("div",{className:"ml-4 flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Transactions"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:j.transactions.toLocaleString()}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Total transactions"})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(i.Z,{className:"h-8 w-8 text-blue-600"})}),(0,a.jsxs)("div",{className:"ml-4 flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Users"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:j.users.toLocaleString()}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Active this period"})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(m.Z,{className:"h-8 w-8 text-purple-600"})}),(0,a.jsxs)("div",{className:"ml-4 flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Platform Fees"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["₫",j.fees.toLocaleString()]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Fee revenue"})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(B.Z,{className:"h-8 w-8 text-yellow-600"})}),(0,a.jsxs)("div",{className:"ml-4 flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Average Donation"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:j.avgDonation.toFixed(2)}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Per transaction"})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(z.Z,{className:"h-8 w-8 text-emerald-600"})}),(0,a.jsxs)("div",{className:"ml-4 flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Conversion Rate"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[j.conversionRate.toFixed(1),"%"]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Users to donors"})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(O.Z,{className:"h-8 w-8 text-orange-600"})}),(0,a.jsxs)("div",{className:"ml-4 flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Period"}),(0,a.jsx)("p",{className:"text-lg font-bold text-gray-900",children:j.period}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Reporting timeframe"})]})]})})]})]}),"revenue"===b&&h&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue Overview"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-indigo-600",children:["₫",h.totalRevenue.toLocaleString()]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Total Revenue"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-red-600",children:["₫",h.platformFees.toLocaleString()]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Platform Fees"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["₫",h.netRevenue.toLocaleString()]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Net Revenue"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Donation Sources"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,a.jsxs)("p",{className:"text-xl font-bold text-blue-600",children:["₫",h.donationSources.paypal.toLocaleString()]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"PayPal"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,a.jsxs)("p",{className:"text-xl font-bold text-green-600",children:["₫",h.donationSources.stripe.toLocaleString()]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Stripe"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,a.jsxs)("p",{className:"text-xl font-bold text-purple-600",children:["₫",h.donationSources.crypto.toLocaleString()]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Crypto"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("p",{className:"text-xl font-bold text-gray-600",children:["₫",h.donationSources.other.toLocaleString()]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Other"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Monthly Trends"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Month"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Growth"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:h.monthlyTrends.map((e,t)=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.month}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["₫",e.revenue.toLocaleString()]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[e.growth>0?(0,a.jsx)(I.Z,{className:"h-4 w-4 text-green-500"}):(0,a.jsx)(G.Z,{className:"h-4 w-4 text-red-500"}),(0,a.jsxs)("span",{className:"ml-1 text-sm font-medium ".concat(e.growth>0?"text-green-600":"text-red-600"),children:[Math.abs(e.growth),"%"]})]})})]},t))})]})})]})]}),"growth"===b&&g&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Growth Overview"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:[g.revenueGrowth,"%"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Revenue Growth"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[g.userGrowth,"%"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"User Growth"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:[g.transactionGrowth,"%"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Transaction Growth"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-yellow-600",children:[g.avgDonationGrowth,"%"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Avg Donation Growth"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-indigo-50 rounded-lg",children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-indigo-600",children:[g.conversionRateGrowth,"%"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Conversion Rate Growth"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-lg font-bold text-gray-600",children:g.period}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Current Period"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Period Comparison"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"p-4 bg-indigo-50 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-indigo-900 mb-2",children:"Current Period"}),(0,a.jsx)("p",{className:"text-sm text-indigo-700",children:g.period})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Previous Period"}),(0,a.jsx)("p",{className:"text-sm text-gray-700",children:g.previousPeriod})]})]})]})]}),"export"===b&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Available Reports"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Generate detailed reports in various formats"})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:k.map(e=>{let t=e.icon;return(0,a.jsx)("div",{className:"border border-gray-200 rounded-lg p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(t,{className:"h-8 w-8 text-indigo-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("h4",{className:"text-lg font-medium text-gray-900",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Format: ",e.format.toUpperCase()]})]})]}),(0,a.jsxs)("button",{onClick:()=>A(e),disabled:d,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[d?(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):(0,a.jsx)(M.Z,{className:"h-4 w-4 mr-2"}),d?"Generating...":"Generate"]})]})},e.id)})})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Export"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("button",{onClick:()=>C("csv"),className:"flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700",children:[(0,a.jsx)(W.Z,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),(0,a.jsxs)("button",{onClick:()=>C("pdf"),className:"flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700",children:[(0,a.jsx)(J.Z,{className:"h-4 w-4 mr-2"}),"Export PDF"]}),(0,a.jsxs)("button",{onClick:()=>C("excel"),className:"flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Export Excel"]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Detailed Statistics"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Comprehensive data breakdown"})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Period"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transactions"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Users"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Growth"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fees"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Donations"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Donation"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Conversion"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((e,t)=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.period}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["₫",e.revenue.toLocaleString()]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.transactions.toLocaleString()}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.users.toLocaleString()}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.growth,"%"]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["₫",e.fees.toLocaleString()]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["₫",e.donations.toLocaleString()]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["₫",e.avgDonation.toFixed(2)]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.conversionRate.toFixed(1),"%"]})]},t))})]})})]})]}):(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("p",{className:"text-gray-600",children:"No data available"})})})}function et(e){let{title:t,value:s,change:r,changeType:n,icon:i,description:l}=e;return(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(i,{className:"h-8 w-8 text-indigo-600"})}),(0,a.jsxs)("div",{className:"ml-4 flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:t}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s}),l&&(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:l})]}),(0,a.jsxs)("div",{className:"flex items-center text-sm font-medium ".concat((()=>{switch(n){case"positive":return"text-green-600";case"negative":return"text-red-600";default:return"text-gray-600"}})()),children:[(()=>{switch(n){case"positive":return(0,a.jsx)(I.Z,{className:"h-4 w-4"});case"negative":return(0,a.jsx)(G.Z,{className:"h-4 w-4"});default:return null}})(),(0,a.jsx)("span",{className:"ml-1",children:r})]})]})})}function es(){let e={totalUsers:1247,totalTransactions:5678,totalRevenue:15420500,revenueGrowth:8.2,transactionGrowth:12.5,userGrowth:5.8,pendingIssues:3};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-lg p-6 text-white",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Admin Overview"}),(0,a.jsx)("p",{className:"text-indigo-100",children:"Monitor platform performance, user activity, and revenue metrics"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)(et,{title:"Total Users",value:e.totalUsers.toLocaleString(),change:"+".concat(e.userGrowth,"%"),changeType:"positive",icon:i.Z,description:"Registered users"}),(0,a.jsx)(et,{title:"Total Revenue",value:"₫".concat(e.totalRevenue.toLocaleString()),change:"+".concat(e.revenueGrowth,"%"),changeType:"positive",icon:o.Z,description:"30-day revenue"}),(0,a.jsx)(et,{title:"Transactions",value:e.totalTransactions.toLocaleString(),change:"".concat(e.transactionGrowth,"%"),changeType:"negative",icon:l.Z,description:"Total transactions"}),(0,a.jsx)(et,{title:"Pending Issues",value:e.pendingIssues.toString(),change:"0",changeType:"neutral",icon:N.Z,description:"Requires attention"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Activity"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Latest platform activity"})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("div",{className:"space-y-4",children:[{id:1,type:"user_registration",user:"John Doe",time:"2 minutes ago"},{id:2,type:"donation",user:"Jane Smith",amount:25e3,time:"5 minutes ago"},{id:3,type:"dispute",user:"Mike Johnson",time:"10 minutes ago"},{id:4,type:"user_registration",user:"Sarah Wilson",time:"15 minutes ago"},{id:5,type:"donation",user:"Anonymous",amount:5e4,time:"20 minutes ago"}].map(e=>{var t;return(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"flex-shrink-0",children:["user_registration"===e.type&&(0,a.jsx)("div",{className:"h-8 w-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(i.Z,{className:"h-4 w-4 text-green-600"})}),"donation"===e.type&&(0,a.jsx)("div",{className:"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(o.Z,{className:"h-4 w-4 text-blue-600"})}),"dispute"===e.type&&(0,a.jsx)("div",{className:"h-8 w-8 bg-orange-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(N.Z,{className:"h-4 w-4 text-orange-600"})})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:["user_registration"===e.type&&"".concat(e.user," registered"),"donation"===e.type&&"".concat(e.user," donated ₫").concat((null===(t=e.amount)||void 0===t?void 0:t.toLocaleString())||"0"),"dispute"===e.type&&"".concat(e.user," opened a dispute")]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.time})]})]},e.id)})})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Top Streamers"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Highest earning streamers"})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("div",{className:"space-y-4",children:[{id:1,name:"GamingPro123",donations:1247,revenue:15420500},{id:2,name:"ArtStreamer",donations:892,revenue:1234e4},{id:3,name:"MusicLover",donations:654,revenue:9870250},{id:4,name:"TechReviewer",donations:543,revenue:7650750},{id:5,name:"FitnessGuru",donations:432,revenue:5430500}].map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"h-8 w-8 bg-indigo-100 rounded-full flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-sm font-medium text-indigo-600",children:["#",t+1]})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[e.donations," donations"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["₫",e.revenue.toLocaleString()]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Revenue"})]})]},e.id))})})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("button",{className:"flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4 mr-2"}),"Manage Users"]}),(0,a.jsxs)("button",{className:"flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),"View Reports"]}),(0,a.jsxs)("button",{className:"flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700",children:[(0,a.jsx)(N.Z,{className:"h-4 w-4 mr-2"}),"Handle Issues"]})]})]})]})}var ea=s(89809);let er={async getDeposits(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams;return e.page&&t.append("page",e.page.toString()),e.limit&&t.append("limit",e.limit.toString()),e.status&&t.append("status",e.status),e.paymentMethod&&t.append("paymentMethod",e.paymentMethod),e.search&&t.append("search",e.search),e.dateFrom&&t.append("dateFrom",e.dateFrom),e.dateTo&&t.append("dateTo",e.dateTo),(await R.hi.get("/admin/deposits?".concat(t.toString()))).data},async getDepositStats(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"month";return(await R.hi.get("/admin/deposits/stats?period=".concat(e))).data},getDepositById:async e=>(await R.hi.get("/admin/deposits/".concat(e))).data,updateDepositStatus:async(e,t)=>(await R.hi.put("/admin/deposits/".concat(e,"/status"),t)).data,handleDepositDispute:async(e,t)=>(await R.hi.post("/admin/deposits/".concat(e,"/dispute"),t)).data,applyDepositAdjustment:async(e,t)=>(await R.hi.post("/admin/deposits/".concat(e,"/adjustment"),t)).data,async exportDeposits(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=new URLSearchParams;return t.status&&s.append("status",t.status),t.paymentMethod&&s.append("paymentMethod",t.paymentMethod),t.search&&s.append("search",t.search),t.dateFrom&&s.append("dateFrom",t.dateFrom),t.dateTo&&s.append("dateTo",t.dateTo),(await R.hi.get("/admin/export/deposits/".concat(e,"?").concat(s.toString()),{responseType:"blob"})).data}};function en(){let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)([]),[i,l]=(0,r.useState)(""),[c,m]=(0,r.useState)("all"),[x,u]=(0,r.useState)("all"),[h,p]=(0,r.useState)("all"),[g,f]=(0,r.useState)(null),[j,y]=(0,r.useState)(!1),[w,C]=(0,r.useState)(!1),[D,R]=(0,r.useState)(!1),[L,F]=(0,r.useState)(!0),[T,E]=(0,r.useState)(1),[V,I]=(0,r.useState)(1),[G]=(0,r.useState)(20),[U,z]=(0,r.useState)("createdAt"),[B,O]=(0,r.useState)("desc"),[W,J]=(0,r.useState)(null),[Y,q]=(0,r.useState)("overview"),H=[{id:"1",userId:"user1",userName:"John Doe",userEmail:"john.doe@example.com",amount:5e5,currency:"VND",status:"completed",paymentMethod:"stripe",description:"Wallet deposit via Stripe",createdAt:"2024-01-20T14:22:00Z",completedAt:"2024-01-20T14:23:00Z",processingFee:15e3,netAmount:485e3,transactionId:"txn_123456789",paymentIntentId:"pi_123456789",verificationStatus:"verified",kycStatus:"approved"},{id:"2",userId:"user2",userName:"Jane Smith",userEmail:"jane.smith@example.com",amount:1e6,currency:"VND",status:"pending",paymentMethod:"bank_transfer",description:"Bank transfer deposit",createdAt:"2024-01-20T15:30:00Z",processingFee:0,netAmount:1e6,bankAccount:{last4:"1234",bankName:"Vietcombank",accountType:"savings"},verificationStatus:"pending",kycStatus:"pending"},{id:"3",userId:"user3",userName:"Mike Johnson",userEmail:"mike.johnson@example.com",amount:25e5,currency:"VND",status:"disputed",paymentMethod:"paypal",description:"PayPal deposit",createdAt:"2024-01-20T12:15:00Z",processingFee:75e3,netAmount:2425e3,disputeReason:"User claims unauthorized transaction",disputeStatus:"open",adminNotes:"Investigation in progress - checking IP logs",verificationStatus:"verified",kycStatus:"approved"},{id:"4",userId:"user4",userName:"Sarah Wilson",userEmail:"sarah.wilson@example.com",amount:75e4,currency:"VND",status:"failed",paymentMethod:"stripe",description:"Stripe deposit failed",createdAt:"2024-01-20T10:45:00Z",processingFee:0,netAmount:0,transactionId:"txn_failed_123",verificationStatus:"failed",kycStatus:"rejected"},{id:"5",userId:"user5",userName:"David Brown",userEmail:"david.brown@example.com",amount:15e5,currency:"VND",status:"processing",paymentMethod:"crypto",description:"Bitcoin deposit",createdAt:"2024-01-20T09:20:00Z",processingFee:45e3,netAmount:1455e3,verificationStatus:"pending",kycStatus:"pending"},{id:"6",userId:"user6",userName:"Lisa Chen",userEmail:"lisa.chen@example.com",amount:3e5,currency:"VND",status:"completed",paymentMethod:"wallet",description:"Internal wallet transfer",createdAt:"2024-01-19T16:30:00Z",completedAt:"2024-01-19T16:31:00Z",processingFee:0,netAmount:3e5,verificationStatus:"verified",kycStatus:"approved"}],Q={totalDeposits:1247,totalAmount:125e6,pendingDeposits:23,completedDeposits:1156,failedDeposits:45,disputedDeposits:23,averageDepositAmount:100240,depositsToday:12,depositsThisWeek:89,depositsThisMonth:456};(0,r.useEffect)(()=>{(async()=>{try{F(!0);let[e,s]=await Promise.all([er.getDeposits({page:T,limit:G,status:"all"!==c?c:void 0,paymentMethod:"all"!==x?x:void 0,search:i||void 0,dateFrom:"all"!==h?K(h):void 0,dateTo:"all"!==h?new Date().toISOString():void 0}),er.getDepositStats("month")]);t(e.deposits),n(e.deposits),J(s),I(e.pagination.pages)}catch(e){console.error("Failed to load deposits:",e),t(H),n(H),J(Q)}finally{F(!1)}})()},[T,c,x,i,h]);let K=e=>{let t=new Date;switch(e){case"today":return new Date(t.getFullYear(),t.getMonth(),t.getDate()).toISOString();case"week":return new Date(t.getTime()-6048e5).toISOString();case"month":return new Date(t.getFullYear(),t.getMonth(),1).toISOString();case"year":return new Date(t.getFullYear(),0,1).toISOString();default:return new Date(t.getTime()-2592e6).toISOString()}};(0,r.useEffect)(()=>{let t=e;if(i&&(t=t.filter(e=>{var t;return e.userName.toLowerCase().includes(i.toLowerCase())||e.userEmail.toLowerCase().includes(i.toLowerCase())||e.id.toLowerCase().includes(i.toLowerCase())||(null===(t=e.transactionId)||void 0===t?void 0:t.toLowerCase().includes(i.toLowerCase()))})),"all"!==c&&(t=t.filter(e=>e.status===c)),"all"!==x&&(t=t.filter(e=>e.paymentMethod===x)),"all"!==h){let e=new Date,s=new Date;switch(h){case"today":s.setHours(0,0,0,0);break;case"week":s.setDate(e.getDate()-7);break;case"month":s.setMonth(e.getMonth()-1);break;case"year":s.setFullYear(e.getFullYear()-1)}t=t.filter(e=>new Date(e.createdAt)>=s)}t.sort((e,t)=>{let s,a;switch(U){case"amount":s=e.amount,a=t.amount;break;case"status":s=e.status,a=t.status;break;default:s=new Date(e.createdAt).getTime(),a=new Date(t.createdAt).getTime()}return"asc"===B?s>a?1:-1:s<a?1:-1}),n(t)},[e,i,c,x,h,U,B]);let X=async(e,s)=>{try{await er.updateDepositStatus(e,{status:s,adminNotes:"Status changed to ".concat(s)}),t(t=>t.map(t=>t.id===e?{...t,status:s,completedAt:"completed"===s?new Date().toISOString():t.completedAt}:t))}catch(e){console.error("Failed to update deposit status:",e)}},$=e=>{switch(e){case"completed":return(0,a.jsx)(b.Z,{className:"h-5 w-5 text-green-500"});case"pending":return(0,a.jsx)(Z.Z,{className:"h-5 w-5 text-yellow-500"});case"processing":return(0,a.jsx)(ea.Z,{className:"h-5 w-5 text-blue-500"});case"failed":return(0,a.jsx)(v.Z,{className:"h-5 w-5 text-red-500"});case"disputed":return(0,a.jsx)(N.Z,{className:"h-5 w-5 text-orange-500"});case"cancelled":return(0,a.jsx)(v.Z,{className:"h-5 w-5 text-gray-500"});default:return(0,a.jsx)(Z.Z,{className:"h-5 w-5 text-gray-500"})}},ee=e=>{switch(e){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"failed":return"bg-red-100 text-red-800";case"disputed":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},et=e=>{switch(e){case"stripe":case"wallet":case"crypto":default:return(0,a.jsx)(o.Z,{className:"h-4 w-4"});case"paypal":return(0,a.jsx)(d.Z,{className:"h-4 w-4"});case"bank_transfer":return(0,a.jsx)(_.Z,{className:"h-4 w-4"})}},es=(e,t)=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:t}).format(e),en=e=>new Date(e).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),ei=async e=>{try{let t=await er.exportDeposits(e,{status:"all"!==c?c:void 0,paymentMethod:"all"!==x?x:void 0,search:i||void 0,dateFrom:"all"!==h?K(h):void 0,dateTo:"all"!==h?new Date().toISOString():void 0}),s=window.URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download="deposits-".concat(new Date().toISOString().split("T")[0],".").concat(e),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(s)}catch(e){console.error("Failed to export deposits:",e)}},el=(T-1)*G,ed=el+G,ec=s.slice(el,ed);return L?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Deposit Management"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Monitor and manage all deposit transactions"})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsxs)("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,a.jsx)(M.Z,{className:"h-4 w-4 mr-2"}),"Export Data"]}),(0,a.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:(0,a.jsxs)("div",{className:"py-1",children:[(0,a.jsx)("button",{onClick:()=>ei("csv"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Export as CSV"}),(0,a.jsx)("button",{onClick:()=>ei("excel"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Export as Excel"}),(0,a.jsx)("button",{onClick:()=>ei("pdf"),className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Export as PDF"})]})})]}),(0,a.jsxs)("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:[(0,a.jsx)(k.Z,{className:"h-4 w-4 mr-2"}),"Manual Deposit"]})]})]})}),W&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(d.Z,{className:"h-8 w-8 text-green-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Deposits"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:W.totalDeposits.toLocaleString()})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(o.Z,{className:"h-8 w-8 text-blue-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Amount"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:es(W.totalAmount,"VND")})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(Z.Z,{className:"h-8 w-8 text-yellow-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Pending"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:W.pendingDeposits})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(N.Z,{className:"h-8 w-8 text-orange-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Disputed"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:W.disputedDeposits})]})]})})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(S.Z,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search deposits...",value:i,onChange:e=>l(e.target.value),className:"pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 w-full"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,a.jsxs)("select",{value:c,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,a.jsx)("option",{value:"all",children:"All Status"}),(0,a.jsx)("option",{value:"pending",children:"Pending"}),(0,a.jsx)("option",{value:"processing",children:"Processing"}),(0,a.jsx)("option",{value:"completed",children:"Completed"}),(0,a.jsx)("option",{value:"failed",children:"Failed"}),(0,a.jsx)("option",{value:"disputed",children:"Disputed"}),(0,a.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),(0,a.jsxs)("select",{value:x,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,a.jsx)("option",{value:"all",children:"All Methods"}),(0,a.jsx)("option",{value:"stripe",children:"Stripe"}),(0,a.jsx)("option",{value:"paypal",children:"PayPal"}),(0,a.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"}),(0,a.jsx)("option",{value:"wallet",children:"Wallet"}),(0,a.jsx)("option",{value:"crypto",children:"Crypto"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),(0,a.jsxs)("select",{value:h,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,a.jsx)("option",{value:"all",children:"All Time"}),(0,a.jsx)("option",{value:"today",children:"Today"}),(0,a.jsx)("option",{value:"week",children:"This Week"}),(0,a.jsx)("option",{value:"month",children:"This Month"}),(0,a.jsx)("option",{value:"year",children:"This Year"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)("select",{value:U,onChange:e=>z(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,a.jsx)("option",{value:"createdAt",children:"Date"}),(0,a.jsx)("option",{value:"amount",children:"Amount"}),(0,a.jsx)("option",{value:"status",children:"Status"})]}),(0,a.jsx)("button",{onClick:()=>O("asc"===B?"desc":"asc"),className:"px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"asc"===B?"↑":"↓"})]})]})]})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Deposits (",s.length,")"]})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deposit"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Method"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:ec.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:$(e.status)}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.id}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,a.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:(0,a.jsx)(P.Z,{className:"h-6 w-6 text-gray-600"})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.userName}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.userEmail})]})]})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:es(e.amount,e.currency)}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Net: ",es(e.netAmount,e.currency)]}),e.processingFee>0&&(0,a.jsxs)("div",{className:"text-xs text-gray-400",children:["Fee: ",es(e.processingFee,e.currency)]})]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[et(e.paymentMethod),(0,a.jsx)("span",{className:"ml-2 text-sm text-gray-900 capitalize",children:e.paymentMethod.replace("_"," ")})]}),e.bankAccount&&(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[e.bankAccount.bankName," ****",e.bankAccount.last4]})]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(ee(e.status)),children:e.status}),e.disputeStatus&&(0,a.jsxs)("div",{className:"text-xs text-orange-600 mt-1",children:["Dispute: ",e.disputeStatus]})]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[(0,a.jsx)("div",{children:en(e.createdAt)}),e.completedAt&&(0,a.jsxs)("div",{className:"text-xs text-green-600",children:["Completed: ",en(e.completedAt)]})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>{f(e),y(!0)},className:"text-indigo-600 hover:text-indigo-900",children:(0,a.jsx)(A.Z,{className:"h-4 w-4"})}),"pending"===e.status&&(0,a.jsx)("button",{onClick:()=>X(e.id,"completed"),className:"text-green-600 hover:text-green-900",children:(0,a.jsx)(b.Z,{className:"h-4 w-4"})}),"disputed"===e.status&&(0,a.jsx)("button",{onClick:()=>{f(e),C(!0)},className:"text-orange-600 hover:text-orange-900",children:(0,a.jsx)(N.Z,{className:"h-4 w-4"})})]})})]},e.id))})]})}),V>1&&(0,a.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[(0,a.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,a.jsx)("button",{onClick:()=>E(Math.max(1,T-1)),disabled:1===T,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,a.jsx)("button",{onClick:()=>E(Math.min(V,T+1)),disabled:T===V,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),(0,a.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing ",(0,a.jsx)("span",{className:"font-medium",children:el+1})," to"," ",(0,a.jsx)("span",{className:"font-medium",children:Math.min(ed,s.length)})," of"," ",(0,a.jsx)("span",{className:"font-medium",children:s.length})," results"]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,a.jsx)("button",{onClick:()=>E(Math.max(1,T-1)),disabled:1===T,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:V},(e,t)=>t+1).map(e=>(0,a.jsx)("button",{onClick:()=>E(e),className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium ".concat(e===T?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"),children:e},e)),(0,a.jsx)("button",{onClick:()=>E(Math.min(V,T+1)),disabled:T===V,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]}),j&&g&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,a.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Deposit Details"}),(0,a.jsx)("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(v.Z,{className:"h-6 w-6"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Deposit ID"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:g.id})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(ee(g.status)),children:g.status})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Amount"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:es(g.amount,g.currency)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Net Amount"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:es(g.netAmount,g.currency)})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Method"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900 capitalize",children:g.paymentMethod.replace("_"," ")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Processing Fee"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:es(g.processingFee,g.currency)})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"User Information"}),(0,a.jsxs)("div",{className:"mt-1 text-sm text-gray-900",children:[(0,a.jsx)("p",{children:g.userName}),(0,a.jsx)("p",{className:"text-gray-500",children:g.userEmail})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:g.description})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Created At"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:en(g.createdAt)})]}),g.completedAt&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Completed At"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:en(g.completedAt)})]})]}),g.bankAccount&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Bank Account"}),(0,a.jsxs)("div",{className:"mt-1 text-sm text-gray-900",children:[(0,a.jsx)("p",{children:g.bankAccount.bankName}),(0,a.jsxs)("p",{children:["****",g.bankAccount.last4," (",g.bankAccount.accountType,")"]})]})]}),g.disputeReason&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Dispute Reason"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:g.disputeReason})]}),g.adminNotes&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Admin Notes"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:g.adminNotes})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Verification Status"}),(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("verified"===g.verificationStatus?"bg-green-100 text-green-800":"pending"===g.verificationStatus?"bg-yellow-100 text-yellow-800":"failed"===g.verificationStatus?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:g.verificationStatus})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"KYC Status"}),(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("approved"===g.kycStatus?"bg-green-100 text-green-800":"pending"===g.kycStatus?"bg-yellow-100 text-yellow-800":"rejected"===g.kycStatus?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:g.kycStatus})]})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,a.jsx)("button",{onClick:()=>y(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Close"}),"pending"===g.status&&(0,a.jsx)("button",{onClick:()=>{X(g.id,"completed"),y(!1)},className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700",children:"Approve Deposit"}),"disputed"===g.status&&(0,a.jsx)("button",{onClick:()=>{y(!1),C(!0)},className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-600 hover:bg-orange-700",children:"Resolve Dispute"})]})]})})}),w&&g&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,a.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-1/2 shadow-lg rounded-md bg-white",children:(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Resolve Dispute"}),(0,a.jsx)("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(v.Z,{className:"h-6 w-6"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Dispute Reason"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:g.disputeReason})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Resolution"}),(0,a.jsxs)("select",{className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[(0,a.jsx)("option",{value:"",children:"Select resolution"}),(0,a.jsx)("option",{value:"approve",children:"Approve deposit"}),(0,a.jsx)("option",{value:"refund",children:"Refund deposit"}),(0,a.jsx)("option",{value:"partial_refund",children:"Partial refund"}),(0,a.jsx)("option",{value:"investigation",children:"Further investigation"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Admin Notes"}),(0,a.jsx)("textarea",{rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Add notes about the resolution..."})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,a.jsx)("button",{onClick:()=>C(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{C(!1)},className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-600 hover:bg-orange-700",children:"Resolve Dispute"})]})]})})})]})}var ei=s(5537),el=s(53572),ed=s(9827),ec=s(18407),eo=s(83481),em=s(48770),ex=s(48047),eu=s(64206);function eh(e){let{}=e,[t,s]=(0,r.useState)([]),[n,i]=(0,r.useState)([]),[l,d]=(0,r.useState)([]),[o,m]=(0,r.useState)(!1),[x,u]=(0,r.useState)(!1),[h,p]=(0,r.useState)(null),[g,f]=(0,r.useState)(null),[j,y]=(0,r.useState)(!1),[b,v]=(0,r.useState)(null),[N,w]=(0,r.useState)(""),[A,L]=(0,r.useState)(""),[F,Z]=(0,r.useState)({userId:"",bankName:"",accountName:"",accountNumber:"",bankCode:"",bankShortName:"",bin:"",logo:"",isDefault:!1}),T=(e,t)=>{let s=encodeURIComponent((t||e||"Bank").trim());return"https://ui-avatars.com/api/?name=".concat(s,"&background=random&color=fff&size=64&format=png")},M=e=>{let t=(e.bankCode||"").trim().toUpperCase(),s=(e.bankShortName||"").trim().toUpperCase(),a=n.find(e=>{var a,r;return(null===(a=e.code)||void 0===a?void 0:a.toUpperCase())===t||(null===(r=e.shortName)||void 0===r?void 0:r.toUpperCase())===s});return(null==a?void 0:a.logo)?a.logo:T(e.bankName,e.bankShortName)};(0,r.useEffect)(()=>{E(),V(),I()},[]);let E=async()=>{try{m(!0);let e=await (0,R._f)();s(e)}catch(e){console.error("Failed to load bank accounts:",e),p("Failed to load bank accounts")}finally{m(!1)}},V=async()=>{try{u(!0);let e=await (0,R.Nr)();i(e.data)}catch(e){console.error("Failed to load banks:",e),p("Failed to load bank list")}finally{u(!1)}},I=async()=>{try{d([{id:"1",username:"admin",email:"admin@example.com",name:"Admin User"},{id:"2",username:"streamer1",email:"streamer1@example.com",name:"Streamer One"},{id:"3",username:"streamer2",email:"streamer2@example.com",name:"Streamer Two"}])}catch(e){console.error("Failed to load users:",e),p("Failed to load users")}},G=(e,t)=>{Z(s=>({...s,[e]:t}))},U=()=>{Z({userId:"",bankName:"",accountName:"",accountNumber:"",bankCode:"",bankShortName:"",isDefault:!1}),v(null),y(!1)},z=async e=>{e.preventDefault(),m(!0),p(null);try{if(b){let e={bankName:F.bankName,accountName:F.accountName,accountNumber:F.accountNumber,bankCode:F.bankCode,bankShortName:F.bankShortName};await (0,R.Xz)(b,e),f("Bank account updated successfully!")}else await (0,R.pc)(F),f("Bank account added successfully!");U(),E()}catch(e){console.error("Failed to save bank account:",e),p(e instanceof Error?e.message:"Failed to save bank account")}finally{m(!1)}},_=e=>{Z({userId:e.userId,bankName:e.bankName,accountName:e.accountName,accountNumber:e.accountNumber,bankCode:e.bankCode||"",bankShortName:e.bankShortName||"",bin:e.bin||"",logo:e.logo||"",isDefault:e.isDefault}),v(e._id),y(!0)},B=async e=>{if(confirm("Are you sure you want to delete this bank account?"))try{m(!0),await (0,R.Zw)(e),f("Bank account deleted successfully!"),E()}catch(e){console.error("Failed to delete bank account:",e),p(e instanceof Error?e.message:"Failed to delete bank account")}finally{m(!1)}},O=async e=>{try{m(!0),await (0,R.G$)(e),f("Default bank account updated successfully!"),E()}catch(e){console.error("Failed to set default bank account:",e),p(e instanceof Error?e.message:"Failed to set default bank account")}finally{m(!1)}},W=()=>{p(null),f(null)};(0,r.useEffect)(()=>{let e=setTimeout(W,5e3);return()=>clearTimeout(e)},[h,g]);let J=t.filter(e=>{let t=l.find(t=>t.id===e.userId);return""===A||e.bankName.toLowerCase().includes(A.toLowerCase())||e.accountName.toLowerCase().includes(A.toLowerCase())||e.accountNumber.includes(A)||t&&t.username.toLowerCase().includes(A.toLowerCase())});return(0,a.jsxs)(ei.Zb,{className:"bg-white shadow-sm border",children:[(0,a.jsxs)(ei.Ol,{children:[(0,a.jsxs)(ei.ll,{className:"text-xl font-semibold text-gray-900 flex items-center",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Bank Account Management"]}),(0,a.jsx)(ei.SZ,{children:"Manage bank accounts for all users in the system"})]}),(0,a.jsxs)(ei.aY,{className:"space-y-6",children:[h&&(0,a.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsx)("p",{className:"text-sm text-red-700",children:h})})]})}),g&&(0,a.jsx)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-xl",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsx)("p",{className:"text-sm text-green-700",children:g})})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between space-x-4",children:[(0,a.jsx)("div",{className:"flex-1 max-w-md",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(S.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)(ed.I,{type:"text",placeholder:"Search bank accounts...",value:A,onChange:e=>L(e.target.value),className:"pl-10 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500"})]})}),(0,a.jsxs)(el.z,{onClick:()=>y(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[(0,a.jsx)(k.Z,{className:"h-4 w-4 mr-2"}),"Add Bank Account"]})]}),j&&(0,a.jsxs)(ei.Zb,{className:"bg-gray-50 border-dashed",children:[(0,a.jsx)(ei.Ol,{children:(0,a.jsx)(ei.ll,{className:"text-lg font-medium text-gray-900",children:b?"Edit Bank Account":"Add New Bank Account"})}),(0,a.jsx)(ei.aY,{children:(0,a.jsxs)("form",{onSubmit:z,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ec._,{htmlFor:"userId",className:"text-sm font-medium text-gray-700",children:"User *"}),(0,a.jsxs)(eo.Ph,{value:F.userId,onValueChange:e=>G("userId",e),children:[(0,a.jsx)(eo.i4,{className:"bg-white border-gray-300 focus:border-indigo-500 focus:ring-indigo-500",children:(0,a.jsx)(eo.ki,{placeholder:"Select a user"})}),(0,a.jsx)(eo.Bw,{className:"bg-white",children:l.map(e=>(0,a.jsx)(eo.Ql,{value:e.id,children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(P.Z,{className:"h-4 w-4 text-gray-400"}),(0,a.jsxs)("span",{children:[e.name," (",e.username,")"]})]})},e.id))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ec._,{htmlFor:"bankCode",className:"text-sm font-medium text-gray-700",children:"Bank *"}),(0,a.jsxs)(eo.Ph,{value:F.bankCode,onValueChange:e=>{let t=n.find(t=>t.code===e);t&&Z(e=>({...e,bankCode:t.code,bankName:t.name,bankShortName:t.shortName,bin:t.bin,logo:t.logo}))},disabled:x,children:[(0,a.jsx)(eo.i4,{className:"bg-white border-gray-300 focus:border-indigo-500 focus:ring-indigo-500",children:(0,a.jsx)(eo.ki,{placeholder:"Select a bank"})}),(0,a.jsx)(eo.Bw,{className:"bg-white",children:n.map(e=>(0,a.jsx)(eo.Ql,{value:e.code,children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("img",{src:e.logo||T(e.name,e.shortName),alt:e.name,className:"w-6 h-6 object-contain rounded",onError:t=>{let s=t.currentTarget,a=s.getAttribute("src")||"",r=T(e.name,e.shortName);if(a!==r){s.src=r;return}s.style.display="none"}}),(0,a.jsx)("span",{children:e.name})]})},e.code))})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ec._,{htmlFor:"accountName",className:"text-sm font-medium text-gray-700",children:"Account Holder Name *"}),(0,a.jsx)(ed.I,{id:"accountName",value:F.accountName,onChange:e=>G("accountName",e.target.value),placeholder:"Enter account holder name",className:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ec._,{htmlFor:"accountNumber",className:"text-sm font-medium text-gray-700",children:"Account Number *"}),(0,a.jsx)(ed.I,{id:"accountNumber",value:F.accountNumber,onChange:e=>G("accountNumber",e.target.value),placeholder:"Enter account number",className:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500",required:!0})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(em.r,{id:"isDefault",checked:F.isDefault,onCheckedChange:e=>G("isDefault",e)}),(0,a.jsx)(ec._,{htmlFor:"isDefault",className:"text-sm font-medium text-gray-700",children:"Set as default account"})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,a.jsx)(el.z,{type:"button",variant:"outline",onClick:U,disabled:o,className:"border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,a.jsx)(el.z,{type:"submit",disabled:o,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:o?"Saving...":b?"Update Account":"Add Account"})]})]})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Bank Accounts (",J.length,")"]})}),o?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading bank accounts..."})]}):0===J.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(c.Z,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No bank accounts found"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:A?"No bank accounts match your search criteria.":"No bank accounts have been added yet."}),!A&&(0,a.jsxs)(el.z,{onClick:()=>y(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[(0,a.jsx)(k.Z,{className:"h-4 w-4 mr-2"}),"Add Bank Account"]})]}):(0,a.jsx)("div",{className:"space-y-3",children:J.map(e=>{let t=l.find(t=>t.id===e.userId);return(0,a.jsx)(ei.Zb,{className:"border-gray-200",children:(0,a.jsx)(ei.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,a.jsx)("img",{src:M({bankCode:e.bankCode,bankShortName:e.bankShortName,bankName:e.bankName}),alt:e.bankShortName||e.bankName,className:"w-6 h-6 object-contain rounded",onError:t=>{let s=t.currentTarget,a=T(e.bankName,e.bankShortName);if(s.src!==a){s.src=a;return}s.style.display="none"}}),(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.bankName}),e.isDefault&&(0,a.jsxs)(ex.C,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[(0,a.jsx)(eu.Z,{className:"h-3 w-3 mr-1"}),"Default"]}),!e.isActive&&(0,a.jsx)(ex.C,{variant:"secondary",className:"bg-red-100 text-red-800",children:"Inactive"})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"User:"})," ",(null==t?void 0:t.name)||"Unknown"," (",(null==t?void 0:t.username)||"N/A",")"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Account Holder:"})," ",e.accountName]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Account Number:"})," ",e.accountNumber]}),e.bankCode&&(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Bank Code:"})," ",e.bankCode]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[!e.isDefault&&(0,a.jsx)(el.z,{variant:"outline",size:"sm",onClick:()=>O(e._id),disabled:o,className:"border-gray-300 text-gray-700 hover:bg-gray-50",title:"Set as default",children:(0,a.jsx)(eu.Z,{className:"h-4 w-4"})}),(0,a.jsx)(el.z,{variant:"outline",size:"sm",onClick:()=>_(e),disabled:o,className:"border-gray-300 text-gray-700 hover:bg-gray-50",title:"Edit account",children:(0,a.jsx)(C.Z,{className:"h-4 w-4"})}),(0,a.jsx)(el.z,{variant:"outline",size:"sm",onClick:()=>B(e._id),disabled:o,className:"border-red-300 text-red-700 hover:bg-red-50",title:"Delete account",children:(0,a.jsx)(D.Z,{className:"h-4 w-4"})})]})]})})},e._id)})})]})]})]})}function ep(){let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)([]),[i,l]=(0,r.useState)(null),[d,c]=(0,r.useState)(!1),[o,m]=(0,r.useState)(!1),[x,u]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!0),[g,f]=(0,r.useState)(!1),[j,y]=(0,r.useState)(""),[N,w]=(0,r.useState)("all"),[k,S]=(0,r.useState)(""),[C,D]=(0,r.useState)(""),[L,F]=(0,r.useState)(1),[T]=(0,r.useState)(10),[M,E]=(0,r.useState)(null),[V,I]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{p(!0),E(null);let e=(0,R.hV)();if(!e)throw Error("Authentication required");let s=new URLSearchParams({page:String(L),limit:String(T)});"all"!==N&&s.append("status",N),j.trim()&&s.append("search",j.trim());let a=await fetch("/api/admin/streamer-applications?".concat(s),{headers:{Authorization:"Bearer ".concat(e)}});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error(e.message||"Failed to fetch applications")}let r=await a.json();t(r.items||[]),n(r.items||[])}catch(e){E(e instanceof Error?e.message:"Failed to load applications"),t([]),n([])}finally{p(!1)}})()},[L,T,N,j]);let G=async(e,s)=>{try{f(!0),E(null),I(null);let r=(0,R.hV)();if(!r)throw Error("Authentication required");let i="approve"===s?{action:s,notes:k}:{action:s,notes:C},l=await fetch("/api/admin/streamer-applications/".concat(e,"/review"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(i)});if(!l.ok){let e=await l.json().catch(()=>({}));throw Error(e.message||"Failed to ".concat(s," application"))}let d=await l.json();if(m(!1),u(!1),S(""),D(""),"approve"===s){var a;(null===(a=d.roleChangeInfo)||void 0===a?void 0:a.updated)?I("Application approved successfully! User role updated from ".concat(d.roleChangeInfo.previousRole," to ").concat(d.roleChangeInfo.newRole,".")):d.roleChangeInfo?I("Application approved successfully! User was already a ".concat(d.roleChangeInfo.newRole,".")):I("Application approved successfully!")}else I("Application rejected successfully!");let c=new URLSearchParams({page:String(L),limit:String(T)});"all"!==N&&c.append("status",N),j.trim()&&c.append("search",j.trim());let o=await fetch("/api/admin/streamer-applications?".concat(c),{headers:{Authorization:"Bearer ".concat((0,R.hV)())}}),x=await o.json();t(x.items||[]),n(x.items||[])}catch(e){E(e instanceof Error?e.message:"Action failed")}finally{f(!1)}},U=e=>{switch(e){case"pending":return(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[(0,a.jsx)(Z.Z,{className:"h-3 w-3 mr-1"}),"Pending"]});case"approved":return(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Approved"});case"rejected":return(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Rejected"});default:return null}};return h?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading applications..."})]})}):M?(0,a.jsx)("div",{className:"p-4 rounded-md bg-red-50 text-red-800 border border-red-200",children:M}):(0,a.jsxs)("div",{className:"space-y-6",children:[V&&(0,a.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsx)("p",{className:"text-sm font-medium text-green-800",children:V})}),(0,a.jsx)("div",{className:"ml-auto pl-3",children:(0,a.jsx)("button",{onClick:()=>I(null),className:"text-green-400 hover:text-green-600",children:(0,a.jsx)("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[(0,a.jsxs)("div",{className:"flex-1 max-w-lg",children:[(0,a.jsx)("label",{htmlFor:"search",className:"sr-only",children:"Search applications"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(P.Z,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{type:"text",id:"search",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Search applications by username, display name, email, platform, or category...",value:j,onChange:e=>y(e.target.value)})]})]}),(0,a.jsx)("div",{className:"flex items-center space-x-4",children:(0,a.jsxs)("select",{value:N,onChange:e=>w(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,a.jsx)("option",{value:"all",children:"All Status"}),(0,a.jsx)("option",{value:"pending",children:"Pending"}),(0,a.jsx)("option",{value:"approved",children:"Approved"}),(0,a.jsx)("option",{value:"rejected",children:"Rejected"})]})})]})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Applications (",s.length,")"]})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Applicant"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Platform"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monthly Viewers"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,a.jsx)("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:(0,a.jsx)(P.Z,{className:"h-6 w-6 text-indigo-600"})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.displayName}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["@",e.username]}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"text-sm text-gray-900 capitalize",children:e.platform})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"text-sm text-gray-900 capitalize",children:e.contentCategory})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"text-sm text-gray-900",children:"number"==typeof e.monthlyViewers?e.monthlyViewers.toLocaleString():e.monthlyViewers})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:U(e.status)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>{l(e),c(!0)},className:"text-indigo-600 hover:text-indigo-900",title:"View details",children:(0,a.jsx)(A.Z,{className:"h-4 w-4"})}),"pending"===e.status&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>{l(e),m(!0)},className:"text-green-600 hover:text-green-900",title:"Approve application",children:(0,a.jsx)(b.Z,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>{l(e),u(!0)},className:"text-red-600 hover:text-red-900",title:"Reject application",children:(0,a.jsx)(v.Z,{className:"h-4 w-4"})})]})]})})]},e._id))})]})})]}),d&&i&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,a.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Application Details"}),(0,a.jsx)("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(v.Z,{className:"h-6 w-6"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Display Name"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:i.displayName})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Username"}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-900",children:["@",i.username]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:i.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Platform"}),(0,a.jsx)("span",{className:"text-sm text-gray-900 capitalize",children:i.platform})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Channel URL"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:(0,a.jsx)("a",{href:i.channelUrl,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-900",children:i.channelUrl})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:i.description})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Content Category"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900 capitalize",children:i.contentCategory})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Monthly Viewers"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:"number"==typeof i.monthlyViewers?i.monthlyViewers.toLocaleString():i.monthlyViewers})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text sm font-medium text-gray-700",children:"Reason for Applying"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:i.reasonForApplying})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,a.jsx)("div",{className:"mt-1",children:U(i.status)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Submitted"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:new Date(i.createdAt).toLocaleString()})]})]}),i.reviewedAt&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Reviewed At"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:new Date(i.reviewedAt).toLocaleString()})]}),i.reviewNotes&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Review Notes"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:i.reviewNotes})]})]}),i.roleChangeInfo&&"approved"===i.status&&(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:"Role Update Information"}),(0,a.jsx)("div",{className:"mt-2 text-sm text-blue-700",children:i.roleChangeInfo.updated?(0,a.jsxs)("p",{children:["User role was updated from ",(0,a.jsx)("span",{className:"font-medium",children:i.roleChangeInfo.previousRole})," to ",(0,a.jsx)("span",{className:"font-medium",children:i.roleChangeInfo.newRole}),"."]}):(0,a.jsxs)("p",{children:["User was already a ",(0,a.jsx)("span",{className:"font-medium",children:i.roleChangeInfo.newRole})," (no role update needed)."]})})]})]})})]}),(0,a.jsx)("div",{className:"mt-6 flex justify-end",children:(0,a.jsx)("button",{onClick:()=>c(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-400",children:"Close"})})]})})}),o&&i&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,a.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Approve Application"}),(0,a.jsx)("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(v.Z,{className:"h-6 w-6"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Applicant"}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-900",children:[i.displayName," (@",i.username,")"]})]}),(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsxs)("p",{className:"text-sm text-blue-700",children:[(0,a.jsx)("span",{className:"font-medium",children:"Note:"}),' Approving this application will automatically update the user\'s role from "donor" to "streamer" in the system.']})})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Admin Notes (Optional)"}),(0,a.jsx)("textarea",{rows:3,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Add any notes about this approval...",value:k,onChange:e=>S(e.target.value)})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex space-x-3",children:[(0,a.jsx)("button",{onClick:()=>G(i._id,"approve"),disabled:g,className:"flex-1 px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-md hover:bg-green-700 disabled:opacity-50",children:g?"Approving...":"Approve Application"}),(0,a.jsx)("button",{onClick:()=>m(!1),className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-400",children:"Cancel"})]})]})})}),x&&i&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,a.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Reject Application"}),(0,a.jsx)("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(v.Z,{className:"h-6 w-6"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Applicant"}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-900",children:[i.displayName," (@",i.username,")"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Rejection Reason *"}),(0,a.jsx)("textarea",{rows:3,required:!0,className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Please provide a reason for rejection...",value:C,onChange:e=>D(e.target.value)})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex space-x-3",children:[(0,a.jsx)("button",{onClick:()=>G(i._id,"reject"),disabled:g||!C.trim(),className:"flex-1 px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-md hover:bg-red-700 disabled:opacity-50",children:g?"Rejecting...":"Reject Application"}),(0,a.jsx)("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-400",children:"Cancel"})]})]})})})]})}function eg(){let[e,t]=(0,r.useState)("overview");return(0,a.jsxs)("div",{className:"flex h-full bg-gray-50",children:[(0,a.jsx)("div",{className:"hidden md:block",children:(0,a.jsx)(y,{activeSection:e,onSectionChange:t})}),(0,a.jsx)("div",{className:"md:hidden",children:(0,a.jsx)(y,{activeSection:e,onSectionChange:t})}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-white border-b border-gray-200 px-4 md:px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 capitalize truncate",children:"overview"===e?"Dashboard":"users"===e?"User Management":"transactions"===e?"Transaction Management":"deposits"===e?"Deposit Management":"bank-accounts"===e?"Bank Account Management":"fees"===e?"Fee Management":"streamer-applications"===e?"Streamer Applications":"Reports & Analytics"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1 truncate",children:"overview"===e?"Platform overview and key metrics":"users"===e?"Manage user accounts and permissions":"transactions"===e?"Monitor and manage all transactions":"deposits"===e?"Monitor and manage all deposit transactions":"bank-accounts"===e?"Manage bank accounts for all users":"fees"===e?"Configure platform fees and rates":"streamer-applications"===e?"Review and approve streamer applications":"Generate comprehensive reports and analytics"})]}),(0,a.jsx)("nav",{className:"hidden sm:flex","aria-label":"Breadcrumb",children:(0,a.jsxs)("ol",{className:"flex items-center space-x-2",children:[(0,a.jsx)("li",{children:(0,a.jsx)("span",{className:"text-gray-500",children:"Admin"})}),(0,a.jsx)("li",{children:(0,a.jsx)("svg",{className:"h-4 w-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}),(0,a.jsx)("li",{children:(0,a.jsx)("span",{className:"text-gray-900 capitalize font-medium",children:"overview"===e?"Dashboard":"users"===e?"Users":"transactions"===e?"Transactions":"deposits"===e?"Deposits":"bank-accounts"===e?"Bank Accounts":"fees"===e?"Fees":"streamer-applications"===e?"Streamer Applications":"Reports"})})]})})]})}),(0,a.jsx)("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:(0,a.jsx)("div",{className:"w-full",children:(()=>{switch(e){case"overview":default:return(0,a.jsx)(es,{});case"users":return(0,a.jsx)(F,{});case"transactions":return(0,a.jsx)(E,{});case"deposits":return(0,a.jsx)(en,{});case"bank-accounts":return(0,a.jsx)(eh,{});case"fees":return(0,a.jsx)(U,{});case"reports":return(0,a.jsx)(ee,{});case"streamer-applications":return(0,a.jsx)(ep,{})}})()})})]})]})}function ef(e){let{children:t}=e;return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"bg-white border-b border-gray-200 shadow-sm",children:(0,a.jsx)("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"XScan Admin"})})}),(0,a.jsx)("div",{className:"flex items-center space-x-4",children:(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Admin Panel"})})]})})}),(0,a.jsx)("main",{className:"w-full h-[calc(100vh-4rem)]",children:t})]})}let ej="force-dynamic";function ey(){return(0,a.jsx)(ef,{children:(0,a.jsx)(eg,{})})}},73938:function(e,t,s){"use strict";s.d(t,{T:function(){return r}});var a=s(37821);function r(e){let{size:t="md",className:s=""}=e;return(0,a.jsx)("div",{className:"flex justify-center items-center ".concat(s),children:(0,a.jsx)("div",{className:"".concat({sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[t]," animate-spin rounded-full border-4 border-gray-200 border-t-blue-600"),role:"status","aria-label":"Loading"})})}},48047:function(e,t,s){"use strict";s.d(t,{C:function(){return l}});var a=s(37821);s(58078);var r=s(77441),n=s(25659);let i=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)(i({variant:s}),t),...r})}},53572:function(e,t,s){"use strict";s.d(t,{z:function(){return i}});var a=s(37821),r=s(58078),n=s(25659);let i=r.forwardRef((e,t)=>{let{className:s,variant:r="default",size:i="default",...l}=e;return(0,a.jsx)("button",{className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"}[r],{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}[i],s),ref:t,...l})});i.displayName="Button"},5537:function(e,t,s){"use strict";s.d(t,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return o},ll:function(){return d}});var a=s(37821),r=s(58078),n=s(25659);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});i.displayName="Card";let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...r})});l.displayName="CardHeader";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});d.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})});c.displayName="CardDescription";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...r})});o.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},9827:function(e,t,s){"use strict";s.d(t,{I:function(){return i}});var a=s(37821),r=s(58078),n=s(25659);let i=r.forwardRef((e,t)=>{let{className:s,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...i})});i.displayName="Input"},18407:function(e,t,s){"use strict";s.d(t,{_:function(){return i}});var a=s(37821),r=s(58078),n=s(25659);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("label",{ref:t,className:(0,n.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",s),...r})});i.displayName="Label"},83481:function(e,t,s){"use strict";s.d(t,{Bw:function(){return p},Ph:function(){return o},Ql:function(){return g},i4:function(){return x},ki:function(){return m}});var a=s(37821),r=s(58078),n=s(15961),i=s(11654),l=s(91903),d=s(775),c=s(25659);let o=n.fC;n.ZA;let m=n.B4,x=r.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,a.jsxs)(n.xz,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...l,children:[r,(0,a.jsx)(n.JO,{asChild:!0,children:(0,a.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=n.xz.displayName;let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.u_,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(l.Z,{className:"h-4 w-4"})})});u.displayName=n.u_.displayName;let h=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.$G,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(i.Z,{className:"h-4 w-4"})})});h.displayName=n.$G.displayName;let p=r.forwardRef((e,t)=>{let{className:s,children:r,position:i="popper",...l}=e;return(0,a.jsx)(n.h_,{children:(0,a.jsxs)(n.VY,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...l,children:[(0,a.jsx)(u,{}),(0,a.jsx)(n.l_,{className:(0,c.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(h,{})]})})});p.displayName=n.VY.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.__,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=n.__.displayName;let g=r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,a.jsxs)(n.ck,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.wU,{children:(0,a.jsx)(d.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(n.eT,{children:r})]})});g.displayName=n.ck.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=n.Z0.displayName},48770:function(e,t,s){"use strict";s.d(t,{r:function(){return l}});var a=s(37821),r=s(58078),n=s(85643),i=s(25659);let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.fC,{className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-gradient-to-r data-[state=checked]:from-indigo-600 data-[state=checked]:to-cyan-600 data-[state=checked]:border-indigo-500 data-[state=unchecked]:bg-gray-200 data-[state=unchecked]:border-gray-300 hover:data-[state=checked]:from-indigo-700 hover:data-[state=checked]:to-cyan-700 hover:data-[state=unchecked]:bg-gray-300",s),...r,ref:t,children:(0,a.jsx)(n.bU,{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 transition-all duration-200 data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0 data-[state=checked]:shadow-indigo-500/50")})})});l.displayName=n.fC.displayName},25659:function(e,t,s){"use strict";s.d(t,{cn:function(){return n},p6:function(){return l},xG:function(){return i}});var a=s(97683),r=s(188);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}function i(e,t){if(null==e||isNaN(e))return"0.00";let s="string"==typeof e?parseFloat(e):e;try{return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase(),minimumFractionDigits:2,maximumFractionDigits:2}).format(s)}catch(e){return"".concat(t.toUpperCase()," ").concat(s.toFixed(2))}}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let s=new Date(e);if(isNaN(s.getTime()))return"Invalid Date";let a={year:"numeric",month:"short",day:"numeric",...t};return s.toLocaleDateString("en-US",a)}catch(e){return"Invalid Date"}}}},function(e){e.O(0,[1382,2265,4885,3939,5820,8353,189,7115,141,1744],function(){return e(e.s=75246)}),_N_E=e.O()}]);