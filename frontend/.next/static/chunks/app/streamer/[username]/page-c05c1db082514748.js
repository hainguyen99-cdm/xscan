(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1998],{25498:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});let t=(0,a(5785).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},55271:function(e,s,a){Promise.resolve().then(a.bind(a,68527))},68527:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return A},dynamic:function(){return b}});var t=a(37821),l=a(58078),r=a(46179),i=a(53572),n=a(5537),c=a(48047),o=a(73938),d=a(83899),m=a(54377),x=a(25498),h=a(92611),g=a(70423),p=a(52080),f=a(60099),u=a(5785);let j=(0,u.Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),y=(0,u.Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),N=(0,u.Z)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),v=(0,u.Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var w=a(30189);let b="force-dynamic",k=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("/")?e:"/".concat(e):"";function A(){var e,s,a;let u=(0,r.useParams)(),b=(0,r.useRouter)(),A=u.username,[C,Z]=(0,l.useState)(null),[L,S]=(0,l.useState)(!0),[T,D]=(0,l.useState)(null),[E,F]=(0,l.useState)(0),[z,P]=(0,l.useState)(!1);(0,l.useEffect)(()=>{A&&M()},[A]),(0,l.useEffect)(()=>{let e=()=>{!document.hidden&&A&&Date.now()-E>5e3&&M()};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[A,E]),(0,l.useEffect)(()=>{if(!A)return;let e=setInterval(()=>{Date.now()-E>3e4&&M()},3e4);return()=>clearInterval(e)},[A,E]);let M=async()=>{S(!0),D(null);try{let s=(0,w.hV)(),a=await fetch("/api/streamer-profile?username=".concat(A),{method:"GET",headers:{"Content-Type":"application/json",...s&&{Authorization:"Bearer ".concat(s)}}});if(!a.ok){if(404===a.status)D("Streamer profile not found.");else throw Error("HTTP error! status: ".concat(a.status));return}let t=await a.json();if(null==t?void 0:t.id)try{let s=await fetch("/api/donation-links/by-streamer/".concat(t.id,"?t=").concat(Date.now()));if(s.ok){var e;let a=await s.json(),l=(null===(e=a.data)||void 0===e?void 0:e.donationLinks)||a.data||[],r=Array.isArray(l)&&l.length>0?l[0]:null;r&&(t.donationLink=r)}}catch(e){}Z(t),F(Date.now())}catch(e){console.error("Error fetching streamer profile:",e),D("Failed to load streamer profile. Please try again.")}finally{S(!1)}},V=async()=>{var e,s;if(null==C?void 0:null===(e=C.donationLink)||void 0===e?void 0:e.slug){b.push("/donate/".concat(C.donationLink.slug));return}try{let e=await fetch("/api/donation-links/by-streamer/".concat(null==C?void 0:C.id,"?t=").concat(Date.now()));if(e.ok){let a=await e.json(),t=(null===(s=a.data)||void 0===s?void 0:s.donationLinks)||a.data||[],l=Array.isArray(t)&&t.length>0?t[0]:null;if(null==l?void 0:l.slug){b.push("/donate/".concat(l.slug));return}}}catch(e){}(0,d.showToast)({type:"error",title:"Donation Link Not Available",message:"This streamer does not have a donation link set up yet.",duration:5e3})},W=()=>{b.push("/donate-for-streamers")},_=async()=>{P(!0);try{await M(),(0,d.showToast)({type:"success",title:"Data Refreshed",message:"Streamer information has been updated.",duration:3e3})}catch(e){(0,d.showToast)({type:"error",title:"Refresh Failed",message:"Failed to refresh streamer data.",duration:3e3})}finally{P(!1)}},O=async()=>{if(C)try{let e=await fetch("/api/streamer-profile?username=".concat(C.username,"&action=follow"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat((0,w.hV)())}});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let s=await e.json();Z(e=>e?{...e,isFollowed:s.isFollowed,followers:s.followers}:e),(0,d.showToast)({type:"success",title:s.isFollowed?"Followed":"Unfollowed",message:s.isFollowed?"You're now following ".concat(C.name,"!"):"You've unfollowed ".concat(C.name),duration:3e3})}catch(e){console.error("Error toggling follow status:",e),(0,d.showToast)({type:"error",title:"Error",message:"Failed to update follow status. Please try again.",duration:5e3})}},R=e=>e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString();return L?(0,t.jsx)(m.Z,{children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,t.jsx)(o.T,{size:"lg"}),(0,t.jsx)("span",{className:"ml-3 text-lg text-gray-600",children:"Loading streamer profile..."})]})})}):T||!C?(0,t.jsx)(m.Z,{children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDE14"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Profile Not Found"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:T||"The streamer profile you are looking for could not be found."}),(0,t.jsxs)(i.z,{onClick:W,className:"bg-indigo-600 hover:bg-indigo-700",children:[(0,t.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Back to Streamers"]})]})})}):(0,t.jsx)(m.Z,{children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)(i.z,{onClick:W,variant:"outline",className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800",children:[(0,t.jsx)(x.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Back to Streamers"})]})}),(0,t.jsxs)("div",{className:"relative mb-8",children:[(0,t.jsxs)("div",{className:"h-64 rounded-2xl overflow-hidden mb-6 relative",children:[C.coverPhoto?(0,t.jsx)("img",{src:k(C.coverPhoto),alt:"".concat(C.name," cover photo"),className:"w-full h-full object-cover",onError:e=>{let s=e.currentTarget,a=s.getAttribute("src")||"";if(a&&!a.startsWith("/")&&!a.startsWith("http")){s.src="/".concat(a);return}s.style.display="none";let t=s.nextElementSibling;t&&(t.style.display="flex")}}):null,(0,t.jsx)("div",{className:"w-full h-full bg-gradient-to-r from-indigo-600 to-cyan-500 flex items-center justify-center ".concat(C.coverPhoto?"hidden":"flex"),style:{display:C.coverPhoto?"none":"flex"},children:(0,t.jsxs)("div",{className:"text-white text-center",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-2",children:C.name}),(0,t.jsxs)("p",{className:"text-xl opacity-90",children:["@",C.username]})]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border p-6",children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between space-y-4 lg:space-y-0 lg:space-x-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[C.profilePicture?(0,t.jsx)("img",{src:k(C.profilePicture),alt:C.name,className:"h-20 w-20 rounded-full object-cover shadow-lg",onError:e=>{let s=e.currentTarget,a=s.getAttribute("src")||"";if(a&&!a.startsWith("/")&&!a.startsWith("http")){s.src="/".concat(a);return}s.style.display="none"}}):(0,t.jsx)("div",{className:"h-20 w-20 bg-gradient-to-r from-indigo-600 to-cyan-500 rounded-full flex items-center justify-center text-white font-bold text-2xl",children:C.name.charAt(0).toUpperCase()}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:C.name}),(0,t.jsxs)("p",{className:"text-lg text-gray-600 mb-3",children:["@",C.username]}),(0,t.jsxs)("div",{className:"flex items-center space-x-6 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(h.Z,{className:"h-4 w-4 text-gray-500"}),(0,t.jsx)("span",{className:"text-gray-700 font-medium",children:R(C.followers)}),(0,t.jsx)("span",{className:"text-gray-500",children:"followers"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4 text-gray-500"}),(0,t.jsxs)("span",{className:"text-gray-700 font-medium",children:["$",C.totalDonations]}),(0,t.jsx)("span",{className:"text-gray-500",children:"donations"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(p.Z,{className:"h-4 w-4 text-gray-500"}),(0,t.jsx)("span",{className:"text-gray-700 font-medium capitalize",children:C.category})]})]}),C.bio&&(0,t.jsx)("p",{className:"text-gray-700 mt-3 max-w-2xl",children:C.bio})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[C.donationLink?(0,t.jsxs)(i.z,{onClick:V,className:"bg-gradient-to-r from-indigo-600 to-cyan-600 hover:from-indigo-700 hover:to-cyan-700 text-white px-8 py-3 rounded-xl text-lg font-medium",children:[(0,t.jsx)(f.Z,{className:"h-5 w-5 mr-2"}),"Donate Now"]}):(0,t.jsxs)(i.z,{disabled:!0,variant:"outline",className:"px-8 py-3 rounded-xl text-lg font-medium",children:[(0,t.jsx)(f.Z,{className:"h-5 w-5 mr-2"}),"No Donation Link"]}),(0,t.jsx)(i.z,{onClick:O,variant:C.isFollowed?"outline":"default",className:"px-8 py-3 rounded-xl text-lg font-medium ".concat(C.isFollowed?"border-gray-300 text-gray-700 hover:bg-gray-50":"bg-gray-800 hover:bg-gray-900 text-white"),children:C.isFollowed?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Z,{className:"h-5 w-5 mr-2"}),"Following"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Z,{className:"h-5 w-5 mr-2"}),"Follow"]})}),(0,t.jsx)(i.z,{onClick:_,variant:"outline",disabled:z,className:"px-4 py-3 rounded-xl text-lg font-medium border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50",title:"Refresh streamer data",children:(0,t.jsx)(j,{className:"h-5 w-5 ".concat(z?"animate-spin":"")})})]})]}),C.isLive&&(0,t.jsx)("div",{className:"mt-6 p-4 bg-red-50 rounded-xl border border-red-200",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"h-3 w-3 bg-red-500 rounded-full animate-pulse"}),(0,t.jsx)("span",{className:"text-red-800 font-medium",children:"LIVE NOW"}),C.streamTitle&&(0,t.jsxs)("span",{className:"text-red-700",children:["• ",C.streamTitle]}),C.game&&(0,t.jsxs)("span",{className:"text-red-600",children:["• \uD83C\uDFAE ",C.game]})]})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)(n.Zb,{className:"bg-white shadow-sm border h-fit",children:[(0,t.jsx)(n.Ol,{children:(0,t.jsx)(n.ll,{className:"text-lg font-semibold text-gray-900",children:"About"})}),(0,t.jsxs)(n.aY,{className:"space-y-4",children:[C.location&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(y,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)("span",{className:"text-gray-700",children:C.location})]}),C.channelUrl&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(N,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)("a",{href:C.channelUrl,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800",children:C.platform?"".concat(C.platform.charAt(0).toUpperCase()+C.platform.slice(1)," Channel"):"Channel"})]}),C.platform&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(p.Z,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("span",{className:"text-gray-700",children:[C.platform.charAt(0).toUpperCase()+C.platform.slice(1)," Streamer"]})]}),C.monthlyViewers&&C.monthlyViewers>0&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(h.Z,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("span",{className:"text-gray-700",children:[R(C.monthlyViewers)," monthly viewers"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(v,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("span",{className:"text-gray-700",children:["Joined ",new Date(C.createdAt).toLocaleDateString()]})]}),(null===(e=C.streamerApplication)||void 0===e?void 0:e.reviewedAt)&&(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsx)(c.C,{variant:"secondary",className:"bg-green-100 text-green-800",children:"✓ Verified Streamer"})})]})]})}),(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)(n.Zb,{className:"bg-white shadow-sm border",children:[(0,t.jsxs)(n.Ol,{children:[(0,t.jsx)(n.ll,{className:"text-lg font-semibold text-gray-900",children:"Timeline"}),(0,t.jsxs)(n.SZ,{children:["Recent activities and milestones from ",C.name]})]}),(0,t.jsx)(n.aY,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"h-3 w-3 bg-indigo-500 rounded-full mt-2"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,t.jsxs)(c.C,{variant:"secondary",className:"bg-red-100 text-red-800",children:[(0,t.jsx)("div",{className:"h-2 w-2 bg-red-500 rounded-full mr-2 animate-pulse"}),"LIVE"]}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:C.isLive?"Now streaming":"Last stream"})]}),(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:C.isLive&&C.streamTitle?C.streamTitle:"Amazing Gaming Stream!"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:C.isLive&&C.game?"Playing ".concat(C.game):"Gaming session"}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:C.isLive?"Started 2 hours ago":"2 days ago"})]})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"h-3 w-3 bg-green-500 rounded-full mt-2"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"flex items-center space-x-2 mb-1",children:(0,t.jsxs)(c.C,{variant:"secondary",className:"bg-green-100 text-green-800",children:[(0,t.jsx)(g.Z,{className:"h-3 w-3 mr-1"}),"Donation"]})}),(0,t.jsxs)("h4",{className:"font-medium text-gray-900 mb-1",children:["Reached $",100*Math.floor(C.totalDonations/100)," donation milestone!"]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Thank you to all supporters for helping reach this amazing goal"}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"1 week ago"})]})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"h-3 w-3 bg-blue-500 rounded-full mt-2"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"flex items-center space-x-2 mb-1",children:(0,t.jsxs)(c.C,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[(0,t.jsx)(h.Z,{className:"h-3 w-3 mr-1"}),"Community"]})}),(0,t.jsxs)("h4",{className:"font-medium text-gray-900 mb-1",children:["Welcomed ",R(100*Math.floor(C.followers/100)),"th follower!"]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Growing community of amazing supporters and viewers"}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"2 weeks ago"})]})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"h-3 w-3 bg-purple-500 rounded-full mt-2"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"flex items-center space-x-2 mb-1",children:(0,t.jsxs)(c.C,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:[(0,t.jsx)(p.Z,{className:"h-3 w-3 mr-1"}),"Content"]})}),(0,t.jsxs)("h4",{className:"font-medium text-gray-900 mb-1",children:["Started streaming ",C.category," content"]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:(null===(s=C.streamerApplication)||void 0===s?void 0:s.reasonForApplying)||"Embarked on a journey to share passion for ".concat(C.category," with the world")}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"1 month ago"})]})]}),(null===(a=C.streamerApplication)||void 0===a?void 0:a.reviewedAt)&&(0,t.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"h-3 w-3 bg-green-500 rounded-full mt-2"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"flex items-center space-x-2 mb-1",children:(0,t.jsxs)(c.C,{variant:"secondary",className:"bg-green-100 text-green-800",children:[(0,t.jsx)(c.C,{className:"h-3 w-3 mr-1 bg-green-500 rounded-full"}),"Verified"]})}),(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:"Streamer application approved"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Successfully verified as a ",C.platform," streamer with ",R(C.monthlyViewers||0)," monthly viewers"]}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:new Date(C.streamerApplication.reviewedAt).toLocaleDateString()})]})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"h-3 w-3 bg-gray-400 rounded-full mt-2"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"flex items-center space-x-2 mb-1",children:(0,t.jsxs)(c.C,{variant:"secondary",className:"bg-gray-100 text-gray-700",children:[(0,t.jsx)(v,{className:"h-3 w-3 mr-1"}),"Account"]})}),(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:"Joined the platform"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Started the journey as a content creator"}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:new Date(C.createdAt).toLocaleDateString()})]})]})]})})]})})]})]})})}}},function(e){e.O(0,[4885,4952,5052,3939,189,1414,4944,8762,7115,141,1744],function(){return e(e.s=55271)}),_N_E=e.O()}]);