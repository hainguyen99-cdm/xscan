(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[492],{93217:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(5785).Z)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},24390:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(5785).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},5032:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(5785).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},81149:function(e,t,s){Promise.resolve().then(s.bind(s,60739))},60739:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S},dynamic:function(){return k}});var r=s(37821),a=s(54377),l=s(58078),i=s(61414),n=s(73938),o=s(5537),c=s(53572),d=s(21921),x=s(94992);function m(e){var t,s;let{wallet:a,monthlyStats:i}=e,[n,m]=(0,l.useState)(!1),[h,u]=(0,l.useState)(!1),p=(e,t)=>new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e),{trend:g,isPositive:f}=(()=>{let e=i[i.length-1],t=i[i.length-2];if(!t)return{trend:0,isPositive:!0};let s=(e.amount-t.amount)/t.amount*100;return{trend:Math.abs(s),isPositive:s>=0}})();return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(o.Zb,{className:"bg-gradient-to-br from-emerald-50 to-teal-50 border-emerald-200 shadow-lg",children:[(0,r.jsxs)(o.Ol,{className:"pb-4",children:[(0,r.jsxs)(o.ll,{className:"flex items-center text-emerald-800",children:[(0,r.jsx)("span",{className:"mr-2",children:"\uD83D\uDCB0"}),"Wallet Overview"]}),(0,r.jsx)(o.SZ,{className:"text-emerald-600",children:"Your current balance and spending statistics"})]}),(0,r.jsxs)(o.aY,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-emerald-800 mb-2",children:p(a.balance,a.currency)}),(0,r.jsx)("div",{className:"text-sm text-emerald-600",children:"Available Balance"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsx)(c.z,{onClick:()=>m(!0),className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:"Add Funds"}),(0,r.jsx)(c.z,{onClick:()=>u(!0),variant:"outline",className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50",children:"Withdraw"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-emerald-200",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-lg font-semibold text-emerald-800",children:p(a.totalSpent,a.currency)}),(0,r.jsx)("div",{className:"text-xs text-emerald-600",children:"Total Spent"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-lg font-semibold text-emerald-800",children:a.totalDonations}),(0,r.jsx)("div",{className:"text-xs text-emerald-600",children:"Donations"})]})]})]})]}),(0,r.jsxs)(o.Zb,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200 shadow-lg",children:[(0,r.jsxs)(o.Ol,{className:"pb-4",children:[(0,r.jsxs)(o.ll,{className:"flex items-center text-blue-800",children:[(0,r.jsx)("span",{className:"mr-2",children:"\uD83D\uDCCA"}),"Monthly Spending"]}),(0,r.jsx)(o.SZ,{className:"text-blue-600",children:"Your donation activity this month"})]}),(0,r.jsx)(o.aY,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"This Month"}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"font-semibold text-blue-800",children:p((null===(t=i[i.length-1])||void 0===t?void 0:t.amount)||0,a.currency)}),(0,r.jsxs)("div",{className:"text-xs text-blue-600",children:[(null===(s=i[i.length-1])||void 0===s?void 0:s.count)||0," donations"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white/50 rounded-lg border border-blue-200",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"Trend"}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("span",{className:"text-sm font-semibold ".concat(f?"text-green-600":"text-red-600"),children:[f?"↗":"↘"," ",g.toFixed(1),"%"]}),(0,r.jsx)("span",{className:"text-xs text-blue-600 ml-1",children:"vs last month"})]})]}),(0,r.jsx)("div",{className:"space-y-2",children:i.slice(-4).map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-xs text-blue-600",children:e.month}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-16 h-2 bg-blue-200 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"h-full bg-blue-500 rounded-full transition-all duration-300",style:{width:"".concat(e.amount/Math.max(...i.map(e=>e.amount))*100,"%")}})}),(0,r.jsx)("span",{className:"text-xs font-medium text-blue-800",children:p(e.amount,a.currency)})]})]},e.month))})]})})]}),(0,r.jsxs)(o.Zb,{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-purple-200 shadow-lg",children:[(0,r.jsxs)(o.Ol,{className:"pb-4",children:[(0,r.jsxs)(o.ll,{className:"flex items-center text-purple-800",children:[(0,r.jsx)("span",{className:"mr-2",children:"⭐"}),"Favorite Creators"]}),(0,r.jsx)(o.SZ,{className:"text-purple-600",children:"Creators you support regularly"})]}),(0,r.jsx)(o.aY,{children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-purple-800 mb-2",children:a.favoriteStreamers}),(0,r.jsx)("div",{className:"text-sm text-purple-600 mb-4",children:"Favorite Streamers"}),(0,r.jsx)(c.z,{variant:"outline",className:"border-purple-300 text-purple-700 hover:bg-purple-50 w-full",onClick:()=>window.location.href="/donor/favorites",children:"View All Favorites"})]})})]}),n&&(0,r.jsx)(d.Z,{isOpen:n,onClose:()=>m(!1),onSubmit:(e,t)=>{m(!1),console.log("Added ".concat(e," ").concat(a.currency," to wallet"))},currency:a.currency}),h&&(0,r.jsx)(x.Z,{isOpen:h,onClose:()=>u(!1),onSubmit:(e,t)=>{u(!1),console.log("Withdrew ".concat(e," ").concat(a.currency," from wallet"))},currency:a.currency,balance:a.balance})]})}var h=s(48047),u=s(775),p=s(49134),g=s(32862);function f(e){let{donations:t}=e,[s,a]=(0,l.useState)(!1),[i,n]=(0,l.useState)(null),d=(e,t)=>new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e),x=e=>{let t=new Date(e),s=Math.floor((new Date().getTime()-t.getTime())/36e5);return s<1?"Just now":s<24?"".concat(s,"h ago"):t.toLocaleDateString()},m=e=>{switch(e){case"wallet":return"\uD83D\uDCB0";case"stripe":default:return"\uD83D\uDCB3";case"paypal":return"\uD83D\uDD35";case"bank_transfer":return"\uD83C\uDFE6"}},f=e=>{switch(e){case"completed":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"failed":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},b=async e=>{let t=(0,g.Hn)(e.streamerName,e.amount,e.currency,e.message,e.isAnonymous),s="".concat(t.title," ").concat(t.description," ").concat(t.url);await (0,g.vQ)(s)&&(n(e.id),setTimeout(()=>n(null),2e3))},j=s?t:t.slice(0,5);return(0,r.jsxs)(o.Zb,{className:"bg-gradient-to-br from-orange-50 to-red-50 border-orange-200 shadow-lg",children:[(0,r.jsxs)(o.Ol,{className:"pb-4",children:[(0,r.jsxs)(o.ll,{className:"flex items-center text-orange-800",children:[(0,r.jsx)("span",{className:"mr-2",children:"\uD83D\uDCDC"}),"Donation History"]}),(0,r.jsx)(o.SZ,{className:"text-orange-600",children:"Your recent donations to creators"})]}),(0,r.jsx)(o.aY,{className:"space-y-4",children:0===j.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("div",{className:"text-4xl mb-4",children:"\uD83C\uDF81"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-orange-800 mb-2",children:"No donations yet"}),(0,r.jsx)("p",{className:"text-orange-600 mb-4",children:"Start supporting your favorite creators!"}),(0,r.jsx)(c.z,{className:"bg-orange-600 hover:bg-orange-700 text-white",onClick:()=>window.location.href="/donation",children:"Make Your First Donation"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"space-y-3",children:j.map(e=>(0,r.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-4 border border-orange-200 hover:border-orange-300 transition-all duration-200 hover:shadow-md",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-400 to-red-400 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:e.streamerName.charAt(0).toUpperCase()}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-semibold text-orange-800",children:e.streamerName}),(0,r.jsx)("div",{className:"text-xs text-orange-600",children:x(e.createdAt)})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"font-bold text-orange-800 text-lg",children:d(e.amount,e.currency)}),(0,r.jsxs)("div",{className:"flex items-center justify-end space-x-1 mt-1",children:[(0,r.jsx)("span",{className:"text-xs",children:m(e.paymentMethod)}),(0,r.jsx)(h.C,{variant:"outline",className:"text-xs ".concat(f(e.status)),children:e.status})]})]})]}),e.message&&(0,r.jsx)("div",{className:"bg-orange-50 rounded-lg p-3 border border-orange-100",children:(0,r.jsxs)("div",{className:"text-sm text-orange-700 italic",children:['"',e.message,'"']})}),(0,r.jsxs)("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-orange-100",children:[e.isAnonymous&&(0,r.jsx)(h.C,{variant:"outline",className:"text-xs bg-gray-100 text-gray-600 border-gray-200",children:"\uD83D\uDD75️ Anonymous Donation"}),(0,r.jsx)(c.z,{variant:"ghost",size:"sm",onClick:()=>b(e),className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50",children:i===e.id?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Z,{className:"w-4 h-4 mr-1"}),"Copied!"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Z,{className:"w-4 h-4 mr-1"}),"Share"]})})]})]},e.id))}),t.length>5&&(0,r.jsx)("div",{className:"text-center pt-4 border-t border-orange-200",children:(0,r.jsx)(c.z,{variant:"outline",className:"border-orange-300 text-orange-700 hover:bg-orange-50",onClick:()=>a(!s),children:s?"Show Less":"Show All ".concat(t.length," Donations")})}),(0,r.jsx)("div",{className:"text-center pt-4",children:(0,r.jsx)(c.z,{className:"bg-orange-600 hover:bg-orange-700 text-white w-full",onClick:()=>window.location.href="/donor/history",children:"View Complete History"})})]})})]})}function b(e){let{streamers:t}=e,[s,a]=(0,l.useState)(!1),i=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),n=e=>{let t=new Date(e),s=Math.floor((new Date().getTime()-t.getTime())/36e5);return s<1?"Just now":s<24?"".concat(s,"h ago"):"".concat(Math.floor(s/24),"d ago")},d=e=>{switch(e.toLowerCase()){case"gaming":return"\uD83C\uDFAE";case"art":return"\uD83C\uDFA8";case"music":return"\uD83C\uDFB5";case"technology":return"\uD83D\uDCBB";case"cooking":return"\uD83D\uDC68‍\uD83C\uDF73";case"fitness":return"\uD83D\uDCAA";default:return"\uD83D\uDCFA"}},x=s?t:t.slice(0,4);return(0,r.jsxs)(o.Zb,{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-purple-200 shadow-lg",children:[(0,r.jsxs)(o.Ol,{className:"pb-4",children:[(0,r.jsxs)(o.ll,{className:"flex items-center text-purple-800",children:[(0,r.jsx)("span",{className:"mr-2",children:"⭐"}),"Favorite Creators"]}),(0,r.jsx)(o.SZ,{className:"text-purple-600",children:"Creators you support regularly"})]}),(0,r.jsx)(o.aY,{className:"space-y-4",children:0===x.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("div",{className:"text-4xl mb-4",children:"\uD83C\uDF1F"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-purple-800 mb-2",children:"No favorite creators yet"}),(0,r.jsx)("p",{className:"text-purple-600 mb-4",children:"Start following creators you love!"}),(0,r.jsx)(c.z,{className:"bg-purple-600 hover:bg-purple-700 text-white",onClick:()=>window.location.href="/discover",children:"Discover Creators"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"space-y-3",children:x.map(e=>(0,r.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-4 border border-purple-200 hover:border-purple-300 transition-all duration-200 hover:shadow-md group",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:e.name.charAt(0).toUpperCase()}),e.isLive&&(0,r.jsx)("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full border-2 border-white animate-pulse"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-semibold text-purple-800 group-hover:text-purple-900 transition-colors",children:e.name}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("span",{className:"text-xs text-purple-600",children:[d(e.category)," ",e.category]}),e.isLive&&(0,r.jsx)(h.C,{className:"bg-red-500 text-white text-xs px-2 py-0.5",children:"\uD83D\uDD34 LIVE"})]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"font-bold text-purple-800",children:i(e.totalDonated)}),(0,r.jsxs)("div",{className:"text-xs text-purple-600",children:[e.donationCount," donations"]})]})]}),(0,r.jsxs)("div",{className:"bg-purple-50 rounded-lg p-3 border border-purple-100",children:[(0,r.jsx)("div",{className:"text-xs text-purple-600 mb-1",children:"Last donation"}),(0,r.jsx)("div",{className:"text-sm text-purple-700 font-medium",children:n(e.lastDonation)})]}),(0,r.jsxs)("div",{className:"flex space-x-2 mt-3",children:[(0,r.jsx)(c.z,{size:"sm",className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white text-xs",onClick:()=>window.location.href="/donation/".concat(e.id),children:"\uD83D\uDC9D Donate"}),(0,r.jsx)(c.z,{size:"sm",variant:"outline",className:"border-purple-300 text-purple-700 hover:bg-purple-50 text-xs",onClick:()=>window.location.href="/streamer/".concat(e.id),children:"\uD83D\uDC41️ View"})]})]},e.id))}),t.length>4&&(0,r.jsx)("div",{className:"text-center pt-4 border-t border-purple-200",children:(0,r.jsx)(c.z,{variant:"outline",className:"border-purple-300 text-purple-700 hover:bg-purple-50",onClick:()=>a(!s),children:s?"Show Less":"Show All ".concat(t.length," Favorites")})}),(0,r.jsx)("div",{className:"text-center pt-4",children:(0,r.jsx)(c.z,{className:"bg-purple-600 hover:bg-purple-700 text-white w-full",onClick:()=>window.location.href="/donor/favorites",children:"Manage Favorites"})}),(0,r.jsx)("div",{className:"bg-white/50 rounded-lg p-4 border border-purple-200",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-lg font-bold text-purple-800",children:t.filter(e=>e.isLive).length}),(0,r.jsx)("div",{className:"text-xs text-purple-600",children:"Live Now"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-lg font-bold text-purple-800",children:i(t.reduce((e,t)=>e+t.totalDonated,0))}),(0,r.jsx)("div",{className:"text-xs text-purple-600",children:"Total Spent"})]})]})})]})})]})}function j(){return(0,r.jsxs)(o.Zb,{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[(0,r.jsxs)(o.Ol,{className:"bg-gradient-to-r from-indigo-600 to-cyan-600 px-6 py-4",children:[(0,r.jsxs)(o.ll,{className:"text-xl font-bold text-white flex items-center",children:[(0,r.jsx)("span",{className:"mr-3",children:"⚡"}),"Quick Actions"]}),(0,r.jsx)(o.SZ,{className:"text-indigo-100",children:"Access your most common donor activities"})]}),(0,r.jsxs)(o.aY,{className:"p-6",children:[(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[{id:"donate",title:"Make a Donation",description:"Support your favorite creators",icon:"\uD83D\uDC9D",color:"from-pink-500 to-rose-500",hoverColor:"from-pink-600 to-rose-600",href:"/donate"},{id:"discover",title:"Discover Creators",description:"Find new creators to support",icon:"\uD83D\uDD0D",color:"from-blue-500 to-indigo-500",hoverColor:"from-blue-600 to-indigo-600",href:"/discover"},{id:"wallet",title:"Manage Wallet",description:"Add funds or withdraw money",icon:"\uD83D\uDCB0",color:"from-emerald-500 to-teal-500",hoverColor:"from-emerald-600 to-teal-600",href:"/wallet"},{id:"share",title:"Share Support",description:"Share your donations",icon:"\uD83D\uDCE2",color:"from-green-500 to-emerald-500",hoverColor:"from-green-600 to-emerald-600",href:"/donor/share"},{id:"notifications",title:"Notifications",description:"View your notifications",icon:"\uD83D\uDD14",color:"from-yellow-500 to-orange-500",hoverColor:"from-yellow-600 to-orange-600",href:"/donor/notifications"},{id:"favorites",title:"My Favorites",description:"View and manage favorite creators",icon:"⭐",color:"from-purple-500 to-pink-500",hoverColor:"from-purple-600 to-pink-600",href:"/donor/favorites"},{id:"history",title:"Donation History",description:"View all your past donations",icon:"\uD83D\uDCDC",color:"from-orange-500 to-red-500",hoverColor:"from-orange-600 to-red-600",href:"/donor/history"},{id:"settings",title:"Account Settings",description:"Manage your donor profile",icon:"⚙️",color:"from-gray-500 to-slate-500",hoverColor:"from-gray-600 to-slate-600",href:"/donor/settings"}].map(e=>(0,r.jsxs)(c.z,{variant:"ghost",className:"h-auto p-4 flex flex-col items-center justify-center space-y-2 bg-gradient-to-br ".concat(e.color," hover:").concat(e.hoverColor," text-white border-0 shadow-lg hover:shadow-xl transition-all duration-200 transform hover:-translate-y-1 rounded-xl"),onClick:()=>window.location.href=e.href,children:[(0,r.jsx)("span",{className:"text-2xl",children:e.icon}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"font-semibold text-sm",children:e.title}),(0,r.jsx)("div",{className:"text-xs opacity-90",children:e.description})]})]},e.id))}),(0,r.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-indigo-600",children:"47"}),(0,r.jsx)("div",{className:"text-xs text-gray-600",children:"Total Donations"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-emerald-600",children:"$1,234"}),(0,r.jsx)("div",{className:"text-xs text-gray-600",children:"Total Spent"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:"12"}),(0,r.jsx)("div",{className:"text-xs text-gray-600",children:"Favorite Creators"})]})]})})]})]})}var v=s(93217);let N=(0,s(5785).Z)("bell-off",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]]);var y=s(5032),w=s(24390);function D(e){let{className:t=""}=e,[s,a]=(0,l.useState)(!1),[n,o]=(0,l.useState)([]),[c,d]=(0,l.useState)(null),[x,m]=(0,l.useState)(0),[h,p]=(0,l.useState)(!1),{addNotification:g}=(0,i.HB)();(0,l.useEffect)(()=>{f(),b(),j()},[]);let f=async()=>{try{p(!0);let e=await fetch("/api/notifications?limit=20");if(e.ok){let t=await e.json();o(t.notifications||[])}}catch(e){console.error("Failed to fetch notifications:",e),g({type:"error",title:"Error",message:"Failed to load notifications"})}finally{p(!1)}},b=async()=>{try{let e=await fetch("/api/notifications/preferences");if(e.ok){let t=await e.json();d(t)}}catch(e){console.error("Failed to fetch notification preferences:",e)}},j=async()=>{try{let e=await fetch("/api/notifications/unread-count");if(e.ok){let t=await e.json();m(t.count||0)}}catch(e){console.error("Failed to fetch unread count:",e)}},D=async e=>{try{(await fetch("/api/notifications/".concat(e,"/read"),{method:"PUT"})).ok&&(o(t=>t.map(t=>t.id===e?{...t,isRead:!0}:t)),m(e=>Math.max(0,e-1)))}catch(e){console.error("Failed to mark notification as read:",e)}},C=async()=>{try{(await fetch("/api/notifications/mark-all-read",{method:"PUT"})).ok&&(o(e=>e.map(e=>({...e,isRead:!0}))),m(0))}catch(e){console.error("Failed to mark all notifications as read:",e)}},k=async e=>{try{if((await fetch("/api/notifications/".concat(e),{method:"DELETE"})).ok){o(t=>t.filter(t=>t.id!==e));let t=n.find(t=>t.id===e);t&&!t.isRead&&m(e=>Math.max(0,e-1))}}catch(e){console.error("Failed to delete notification:",e)}},S=e=>{switch(e){case"donation_confirmation":return"\uD83D\uDCB0";case"streamer_update":return"\uD83D\uDCFA";case"security_alert":return"\uD83D\uDD12";case"marketing":return"\uD83D\uDCE2";default:return"\uD83D\uDD14"}},F=e=>{let t=new Date(e),s=Math.floor((new Date().getTime()-t.getTime())/1e3);return s<60?"Just now":s<3600?"".concat(Math.floor(s/60),"m ago"):s<86400?"".concat(Math.floor(s/3600),"h ago"):s<2592e3?"".concat(Math.floor(s/86400),"d ago"):t.toLocaleDateString()};return(0,r.jsxs)("div",{className:"relative ".concat(t),children:[(0,r.jsxs)("button",{onClick:()=>a(!s),className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Notifications",children:[x>0?(0,r.jsx)(v.Z,{className:"w-6 h-6"}):(0,r.jsx)(N,{className:"w-6 h-6"}),x>0&&(0,r.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:x>99?"99+":x})]}),s&&(0,r.jsxs)("div",{className:"absolute right-0 top-12 w-96 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[x>0&&(0,r.jsx)("button",{onClick:C,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Mark all read"}),(0,r.jsx)("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600",children:(0,r.jsx)(y.Z,{className:"w-5 h-5"})})]})]}),(0,r.jsx)("div",{className:"max-h-96 overflow-y-auto",children:h?(0,r.jsx)("div",{className:"p-4 text-center text-gray-500",children:"Loading notifications..."}):0===n.length?(0,r.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,r.jsx)(N,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,r.jsx)("p",{className:"text-sm",children:"No notifications yet"}),(0,r.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"You'll see notifications here when you receive them"})]}):(0,r.jsx)("div",{className:"divide-y divide-gray-100",children:n.map(e=>(0,r.jsx)("div",{className:"p-4 hover:bg-gray-50 transition-colors ".concat(e.isRead?"":"bg-blue-50"),children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0 text-2xl",children:S(e.type)}),(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium ".concat(e.isRead?"text-gray-700":"text-gray-900"),children:e.title}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.message}),(0,r.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:F(e.createdAt)})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1 ml-2",children:[!e.isRead&&(0,r.jsx)("button",{onClick:()=>D(e.id),className:"p-1 text-gray-400 hover:text-green-600 transition-colors",title:"Mark as read",children:(0,r.jsx)(u.Z,{className:"w-4 h-4"})}),(0,r.jsx)("button",{onClick:()=>k(e.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Delete notification",children:(0,r.jsx)(w.Z,{className:"w-4 h-4"})})]})]})})]})},e.id))})}),n.length>0&&(0,r.jsx)("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,r.jsxs)("span",{children:[x," unread notification",1!==x?"s":""]}),(0,r.jsx)("button",{onClick:()=>{a(!1)},className:"text-blue-600 hover:text-blue-800 font-medium",children:"View all"})]})})]}),s&&(0,r.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)})]})}function C(){let{user:e,isLoading:t}=(0,i.qr)(),[s,a]=(0,l.useState)(null);return((0,l.useEffect)(()=>{},[]),e||t)?!e||t?(0,r.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,r.jsx)(n.T,{size:"lg"})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50",children:[(0,r.jsxs)("div",{className:"relative overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600 via-purple-600 to-cyan-500 opacity-90"}),(0,r.jsx)("div",{className:"relative px-6 py-12 sm:px-8 sm:py-16",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsx)("div",{})," ",(0,r.jsx)(D,{className:"text-white"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("h1",{className:"text-4xl sm:text-5xl font-bold text-white mb-4 tracking-tight",children:["Welcome back, ",(null==e?void 0:e.name)||"Donor","! \uD83D\uDC9D"]}),s&&(0,r.jsxs)("p",{className:"text-xl text-indigo-100 mb-6 max-w-3xl mx-auto",children:["You've supported amazing creators with"," ",(0,r.jsxs)("span",{className:"font-bold text-cyan-200",children:["$",s.wallet.totalSpent.toLocaleString()]})," ","in donations. Thank you for making a difference!"]}),(0,r.jsx)("div",{className:"flex flex-wrap justify-center gap-4",children:s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl px-6 py-3 border border-white/30",children:(0,r.jsxs)("span",{className:"text-white font-semibold",children:["\uD83D\uDCB0 $",s.wallet.balance.toLocaleString()," Available"]})}),(0,r.jsx)("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl px-6 py-3 border border-white/30",children:(0,r.jsxs)("span",{className:"text-white font-semibold",children:["\uD83C\uDFAF ",s.wallet.totalDonations," Total Donations"]})}),(0,r.jsx)("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl px-6 py-3 border border-white/30",children:(0,r.jsxs)("span",{className:"text-white font-semibold",children:["⭐ ",s.wallet.favoriteStreamers," Favorite Creators"]})})]})})]})]})})]}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-6 sm:px-8 -mt-8 relative z-10",children:[(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsx)(j,{})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[(0,r.jsx)("div",{className:"xl:col-span-1",children:s?(0,r.jsx)(m,{wallet:s.wallet,monthlyStats:s.monthlyStats}):(0,r.jsx)("div",{className:"bg-white rounded-xl p-6 border border-gray-200 text-gray-500",children:"No wallet data available"})}),(0,r.jsx)("div",{className:"xl:col-span-1",children:s?(0,r.jsx)(f,{donations:s.recentDonations}):(0,r.jsx)("div",{className:"bg-white rounded-xl p-6 border border-gray-200 text-gray-500",children:"No donation history"})}),(0,r.jsx)("div",{className:"xl:col-span-1",children:s?(0,r.jsx)(b,{streamers:s.favoriteStreamers}):(0,r.jsx)("div",{className:"bg-white rounded-xl p-6 border border-gray-200 text-gray-500",children:"No favorite streamers yet"})})]})]})]}):(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Welcome to XScan Donations \uD83D\uDC9D"}),(0,r.jsx)("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl",children:"Support your favorite content creators with secure, instant donations. Join thousands of donors making a difference in the creator economy."}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,r.jsx)("a",{href:"/auth/login",className:"bg-indigo-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-indigo-700 transition-colors",children:"Sign In"}),(0,r.jsx)("a",{href:"/auth/register",className:"bg-white text-indigo-600 px-8 py-3 rounded-lg font-semibold border-2 border-indigo-600 hover:bg-indigo-50 transition-colors",children:"Get Started"})]})]})})}let k="force-dynamic";function S(){return(0,r.jsx)(a.Z,{children:(0,r.jsx)(C,{})})}},73938:function(e,t,s){"use strict";s.d(t,{T:function(){return a}});var r=s(37821);function a(e){let{size:t="md",className:s=""}=e;return(0,r.jsx)("div",{className:"flex justify-center items-center ".concat(s),children:(0,r.jsx)("div",{className:"".concat({sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[t]," animate-spin rounded-full border-4 border-gray-200 border-t-blue-600"),role:"status","aria-label":"Loading"})})}}},function(e){e.O(0,[4885,4952,5052,3939,189,1414,4944,9346,8692,7115,141,1744],function(){return e(e.s=81149)}),_N_E=e.O()}]);