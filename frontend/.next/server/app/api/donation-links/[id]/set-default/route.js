"use strict";(()=>{var e={};e.id=7269,e.ids=[7269],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},94940:(e,t,s)=>{s.r(t),s.d(t,{headerHooks:()=>g,originalPathname:()=>m,patchFetch:()=>v,requestAsyncStorage:()=>p,routeModule:()=>c,serverHooks:()=>h,staticGenerationAsyncStorage:()=>f,staticGenerationBailout:()=>k});var a={};s.r(a),s.d(a,{PATCH:()=>l});var n=s(6170),o=s(8533),r=s(54387),i=s(40064);let u=process.env.BACKEND_URL||"http://localhost:3001",d=process.env.DONATION_LINKS_PATH||"/api/donation-links";async function l(e,{params:t}){try{let s=e.headers.get("authorization");if(!s)return i.Z.json({success:!1,message:"Authorization header required"},{status:401});let a=t?.id;if(!a)return i.Z.json({success:!1,message:"Donation link id is required"},{status:400});let n=function(e,t){let s=[];return e&&e.trim().length>0&&s.push(`${e}/${t}/set-default`),s.push(`/api/donation-links/${t}/set-default`,`/api/v1/donation-links/${t}/set-default`,`/donation-links/${t}/set-default`,`/api/donations/links/${t}/set-default`),Array.from(new Set(s))}(d,a),o=[];for(let e of n){let t=await fetch(`${u}${e}`,{method:"PATCH",headers:{Authorization:s}});if(t.ok){let e=await t.json().catch(()=>({}));return i.Z.json({success:!0,data:e.data??e})}let a="Request failed";try{a=(await t.json()).message||a}catch{}if(o.push({path:e,status:t.status,message:a}),404!==t.status)break}return i.Z.json({success:!1,message:o[o.length-1]?.message||"Failed to set default",tried:o},{status:o[o.length-1]?.status||502})}catch(e){return console.error("Error setting default donation link:",e),i.Z.json({success:!1,message:"Internal server error"},{status:500})}}let c=new n.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/donation-links/[id]/set-default/route",pathname:"/api/donation-links/[id]/set-default",filename:"route",bundlePath:"app/api/donation-links/[id]/set-default/route"},resolvedPagePath:"D:\\repo\\xscan\\frontend\\src\\app\\api\\donation-links\\[id]\\set-default\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:p,staticGenerationAsyncStorage:f,serverHooks:h,headerHooks:g,staticGenerationBailout:k}=c,m="/api/donation-links/[id]/set-default/route";function v(){return(0,r.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:f})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[3499,7386],()=>s(94940));module.exports=a})();