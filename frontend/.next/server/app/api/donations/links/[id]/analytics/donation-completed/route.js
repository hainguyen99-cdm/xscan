"use strict";(()=>{var e={};e.id=5817,e.ids=[5817],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39899:(e,t,o)=>{o.r(t),o.d(t,{headerHooks:()=>h,originalPathname:()=>k,patchFetch:()=>y,requestAsyncStorage:()=>l,routeModule:()=>u,serverHooks:()=>m,staticGenerationAsyncStorage:()=>p,staticGenerationBailout:()=>g});var a={};o.r(a),o.d(a,{POST:()=>c});var n=o(6170),s=o(8533),i=o(54387),r=o(40064);let d=process.env.BACKEND_URL||"http://localhost:3001";async function c(e,{params:t}){try{let{id:o}=t||{};if(!o)return r.Z.json({success:!1,message:"Donation link ID is required"},{status:400});let a=await e.json().catch(()=>({})),n={"Content-Type":"application/json"},s=e.headers.get("authorization");if(!s)return r.Z.json({success:!1,message:"Authorization header required"},{status:401});n.Authorization=s;let i=await fetch(`${d}/api/donations/links/${encodeURIComponent(o)}/analytics/donation-completed`,{method:"POST",headers:n,body:JSON.stringify(a||{})}),c=await i.json().catch(()=>({}));if(!i.ok)return r.Z.json({success:!1,message:c?.message||"Failed to track donation completed"},{status:i.status||500});return r.Z.json({success:!0,data:c.data??c,message:"Donation completed tracked"})}catch(e){return console.error("Error forwarding donation-completed analytics:",e),r.Z.json({success:!1,message:"Internal server error"},{status:500})}}let u=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/donations/links/[id]/analytics/donation-completed/route",pathname:"/api/donations/links/[id]/analytics/donation-completed",filename:"route",bundlePath:"app/api/donations/links/[id]/analytics/donation-completed/route"},resolvedPagePath:"D:\\repo\\xscan\\frontend\\src\\app\\api\\donations\\links\\[id]\\analytics\\donation-completed\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:l,staticGenerationAsyncStorage:p,serverHooks:m,headerHooks:h,staticGenerationBailout:g}=u,k="/api/donations/links/[id]/analytics/donation-completed/route";function y(){return(0,i.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:p})}}};var t=require("../../../../../../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),a=t.X(0,[3499,7386],()=>o(39899));module.exports=a})();