(()=>{var e={};e.id=5793,e.ids=[5793],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},91684:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var r=s(7),n=s(8533),o=s(29377),i=s.n(o),a=s(29799),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);s.d(t,l);let c=["",{children:["test-donation-auth",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,67008)),"D:\\repo\\xscan\\frontend\\src\\app\\test-donation-auth\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,44161)),"D:\\repo\\xscan\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,73472,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\repo\\xscan\\frontend\\src\\app\\test-donation-auth\\page.tsx"],u="/test-donation-auth/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/test-donation-auth/page",pathname:"/test-donation-auth",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},12422:(e,t,s)=>{Promise.resolve().then(s.bind(s,1102))},1102:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(54714),n=s(77580),o=s(31812),i=s(21102);function a(){let{user:e,isAuthenticated:t}=(0,o.qr)(),{isAuthenticating:s}=(0,o.tN)(),[a,l]=(0,n.useState)(null),[c,d]=(0,n.useState)(null);(0,n.useEffect)(()=>{l((0,i.hV)())},[]);let u=async()=>{try{let e=await fetch("/api/auth/profile",{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(e.ok){let t=await e.json();d(t)}else d({error:`HTTP ${e.status}: ${e.statusText}`})}catch(e){d({error:e instanceof Error?e.message:"Unknown error"})}};return r.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Donation Auth Test Page"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Authentication State"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("p",{children:[r.jsx("strong",{children:"isAuthenticating:"})," ",s?"true":"false"]}),(0,r.jsxs)("p",{children:[r.jsx("strong",{children:"isAuthenticated:"})," ",t?"true":"false"]}),(0,r.jsxs)("p",{children:[r.jsx("strong",{children:"User:"})," ",e?JSON.stringify(e,null,2):"null"]}),(0,r.jsxs)("p",{children:[r.jsx("strong",{children:"User Role:"})," ",e?.role||"none"]})]})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Token Information"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("p",{children:[r.jsx("strong",{children:"Stored Token:"})," ",a?`${a.substring(0,20)}...`:"none"]}),(0,r.jsxs)("p",{children:[r.jsx("strong",{children:"Token Length:"})," ",a?.length||0]})]}),r.jsx("button",{onClick:u,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Test Profile API"}),r.jsx("button",{onClick:()=>{let e="mock-token-for-testing";document.cookie=`auth-token=${e}; path=/; max-age=86400; SameSite=Lax`,localStorage.setItem("auth-token",e),l(e),window.location.reload()},className:"mt-4 ml-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Simulate Auth"})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow md:col-span-2",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Profile API Response"}),r.jsx("pre",{className:"bg-gray-100 p-4 rounded text-xs overflow-auto",children:c?JSON.stringify(c,null,2):"No response yet"})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow md:col-span-2",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),(0,r.jsxs)("div",{className:"space-x-4",children:[r.jsx("a",{href:"/donation-links/create",className:"inline-block px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Try Donation Links Create"}),r.jsx("a",{href:"/dashboard/donation-links",className:"inline-block px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Try Donation Links Dashboard"})]})]})]})]})})}},67008:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>o,__esModule:()=>n,default:()=>i});let r=(0,s(71481).createProxy)(String.raw`D:\repo\xscan\frontend\src\app\test-donation-auth\page.tsx`),{__esModule:n,$$typeof:o}=r,i=r.default}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[3499,9951,8098],()=>s(91684));module.exports=r})();